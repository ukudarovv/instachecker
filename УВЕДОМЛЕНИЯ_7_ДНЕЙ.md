# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ–± –∏—Å—Ç–µ—á–µ–Ω–∏–∏ —Å—Ä–æ–∫–∞

## –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å

–û–±–Ω–æ–≤–ª–µ–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ –ø—Ä–∏–±–ª–∏–∂–∞—é—â–µ–º—Å—è –∏ –∏—Å—Ç–µ–∫—à–µ–º —Å—Ä–æ–∫–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∞–∫–∫–∞—É–Ω—Ç–æ–≤.

## –ò–∑–º–µ–Ω–µ–Ω–∏—è

### 1. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∑–∞ 7 –¥–Ω–µ–π

**–ë—ã–ª–æ**: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø—Ä–∏—Ö–æ–¥–∏–ª–æ –∑–∞ **3 –¥–Ω—è** –¥–æ –∏—Å—Ç–µ—á–µ–Ω–∏—è —Å—Ä–æ–∫–∞  
**–°—Ç–∞–ª–æ**: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø—Ä–∏—Ö–æ–¥–∏—Ç –∑–∞ **7 –¥–Ω–µ–π** –¥–æ –∏—Å—Ç–µ—á–µ–Ω–∏—è —Å—Ä–æ–∫–∞

–≠—Ç–æ –¥–∞—ë—Ç –±–æ–ª—å—à–µ –≤—Ä–µ–º–µ–Ω–∏ –¥–ª—è —É–≤–µ–ª–∏—á–µ–Ω–∏—è –ø–µ—Ä–∏–æ–¥–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏–ª–∏ –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏—è –æ–± —É–¥–∞–ª–µ–Ω–∏–∏ –∞–∫–∫–∞—É–Ω—Ç–∞.

### 2. –ò–∑–º–µ–Ω—ë–Ω —Ç–µ–∫—Å—Ç –≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è—Ö

**–ë—ã–ª–æ**: "–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫—É '–ê–∫—Ç–∏–≤–Ω—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã' –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è"  
**–°—Ç–∞–ª–æ**: "–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫—É '–ù–µ–∞–∫—Ç–∏–≤–Ω—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã' –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è"

–¢–µ–ø–µ—Ä—å —Ç–µ–∫—Å—Ç –±–æ–ª–µ–µ —Ç–æ—á–Ω–æ —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –Ω—É–∂–Ω—É—é –∫–Ω–æ–ø–∫—É –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã–º–∏ –∞–∫–∫–∞—É–Ω—Ç–∞–º–∏.

## –¢–∏–ø—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

### 1. –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ (–∑–∞ 7 –¥–Ω–µ–π)

```
‚è∞ –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ: —Å–∫–æ—Ä–æ –∏—Å—Ç–µ—á–µ—Ç —Å—Ä–æ–∫ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

üìÖ –°–ª–µ–¥—É—é—â–∏–µ –∞–∫–∫–∞—É–Ω—Ç—ã —Å–∫–æ—Ä–æ –¥–æ—Å—Ç–∏–≥–Ω—É—Ç –∫–æ–Ω—Ü–∞ –ø–µ—Ä–∏–æ–¥–∞:
‚Ä¢ @username (–æ—Å—Ç–∞–ª–æ—Å—å 7 –¥–Ω.)

üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: –£–≤–µ–ª–∏—á—å—Ç–µ –ø–µ—Ä–∏–æ–¥ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∑–∞—Ä–∞–Ω–µ–µ

üì± –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫—É '–ù–µ–∞–∫—Ç–∏–≤–Ω—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã' –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
```

### 2. –ò—Å—Ç—ë–∫ —Å—Ä–æ–∫

```
‚ö†Ô∏è –í–ù–ò–ú–ê–ù–ò–ï: –ò—Å—Ç–µ–∫ —Å—Ä–æ–∫ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞!

üìÖ –°–ª–µ–¥—É—é—â–∏–µ –∞–∫–∫–∞—É–Ω—Ç—ã –¥–æ—Å—Ç–∏–≥–ª–∏ –∫–æ–Ω—Ü–∞ –ø–µ—Ä–∏–æ–¥–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞:
‚Ä¢ @username (–ø—Ä–æ—Å—Ä–æ—á–µ–Ω –Ω–∞ 27 –¥–Ω.)

üîÑ –ß—Ç–æ –¥–µ–ª–∞—Ç—å:
1Ô∏è‚É£ –£–≤–µ–ª–∏—á–∏—Ç—å –ø–µ—Ä–∏–æ–¥ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
2Ô∏è‚É£ –£–¥–∞–ª–∏—Ç—å –∞–∫–∫–∞—É–Ω—Ç –∏–∑ —Å–ø–∏—Å–∫–∞

üì± –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫—É '–ù–µ–∞–∫—Ç–∏–≤–Ω—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã' –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
```

## –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

- ‚úÖ `project/services/expiry_notifications.py`
  - –°—Ç—Ä–æ–∫–∞ 36: `days_ahead=3` ‚Üí `days_ahead=7`
  - –°—Ç—Ä–æ–∫–∞ 100: –¢–µ–∫—Å—Ç –∏–∑–º–µ–Ω—ë–Ω –Ω–∞ "–ù–µ–∞–∫—Ç–∏–≤–Ω—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã"
  - –°—Ç—Ä–æ–∫–∞ 130: –¢–µ–∫—Å—Ç –∏–∑–º–µ–Ω—ë–Ω –Ω–∞ "–ù–µ–∞–∫—Ç–∏–≤–Ω—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã"

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –§—É–Ω–∫—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏

```python
async def check_and_send_expiry_notifications(SessionLocal: sessionmaker, bot=None):
    # Get accounts expiring soon (in next 7 days)
    expiring_soon = get_accounts_expiring_soon(session, days_ahead=7)
    # ...
```

### –ü–µ—Ä–∏–æ–¥–∏—á–Ω–æ—Å—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∏

–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è **–∫–∞–∂–¥—ã–µ 24 —á–∞—Å–∞** (–Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –≤ `start_expiry_checker`).

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

‚úÖ **–ë–æ–ª—å—à–µ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ —Ä–µ–∞–∫—Ü–∏—é**: 7 –¥–Ω–µ–π –≤–º–µ—Å—Ç–æ 3  
‚úÖ **–¢–æ—á–Ω–æ—Å—Ç—å**: –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–Ω–æ–ø–∫–∏ –≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è—Ö  
‚úÖ **–£–¥–æ–±—Å—Ç–≤–æ**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø–æ–ª—É—á–∞—é—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∑–∞—Ä–∞–Ω–µ–µ  

## –ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã

### –î–µ–Ω—å 1 (–æ—Å—Ç–∞–ª–æ—Å—å 7 –¥–Ω–µ–π)
üìß –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç –ø–µ—Ä–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ

### –î–µ–Ω—å 7 (–ø–æ—Å–ª–µ–¥–Ω–∏–π –¥–µ–Ω—å)
‚è∞ –ê–∫–∫–∞—É–Ω—Ç –≤—Å—ë –µ—â—ë –∞–∫—Ç–∏–≤–µ–Ω

### –î–µ–Ω—å 8 (–ø—Ä–æ—Å—Ä–æ—á–µ–Ω –Ω–∞ 1 –¥–µ–Ω—å)
‚ö†Ô∏è –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± –∏—Å—Ç–µ—á–µ–Ω–∏–∏ —Å—Ä–æ–∫–∞

## –î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

16 –æ–∫—Ç—è–±—Ä—è 2025

