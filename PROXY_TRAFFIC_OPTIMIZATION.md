# üöÄ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ç—Ä–∞—Ñ–∏–∫–∞ Proxy

## üìä –ü—Ä–æ–±–ª–µ–º–∞
Proxy –ø–æ—Ç—Ä–µ–±–ª—è–µ—Ç —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ —Ç—Ä–∞—Ñ–∏–∫–∞ –∏–∑-–∑–∞:
- –ü–æ–ª–Ω—ã—Ö —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤ 1920x1080 (~50-100KB –∫–∞–∂–¥—ã–π)
- –ó–∞–≥—Ä—É–∑–∫–∏ –≤—Å–µ—Ö —Ä–µ—Å—É—Ä—Å–æ–≤ Instagram (–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, –≤–∏–¥–µ–æ, CSS, JS)
- –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫ (–¥–æ 5 —Ä–∞–∑)
- –î–ª–∏—Ç–µ–ª—å–Ω—ã—Ö –æ–∂–∏–¥–∞–Ω–∏–π (–¥–æ 15 —Å–µ–∫—É–Ω–¥)
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –Ω–µ–Ω—É–∂–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤

## ‚úÖ –†–µ—à–µ–Ω–∏—è

### 1. üìê –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–∞–∑–º–µ—Ä–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤
- **–ë—ã–ª–æ**: 1920x1080 (Full HD)
- **–°—Ç–∞–ª–æ**: 1366x768 (–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ)
- **–≠–∫–æ–Ω–æ–º–∏—è**: ~40% —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–∞

### 2. üö´ –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤
```python
# –ë–ª–æ–∫–∏—Ä—É–µ–º –Ω–µ–Ω—É–∂–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã
await page.route("**/*", lambda route: (
    route.abort() if route.request.resource_type in ["image", "media", "font", "stylesheet"] 
    else route.continue_()
))
```

**–ë–ª–æ–∫–∏—Ä—É–µ–º**:
- üñºÔ∏è –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (images)
- üé• –í–∏–¥–µ–æ (media)
- üî§ –®—Ä–∏—Ñ—Ç—ã (font)
- üé® CSS —Å—Ç–∏–ª–∏ (stylesheet)

**–†–∞–∑—Ä–µ—à–∞–µ–º**:
- üìÑ HTML –¥–æ–∫—É–º–µ–Ω—Ç—ã
- ‚ö° JavaScript (—Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–π)

### 3. ‚ö° –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω–∏ –æ–∂–∏–¥–∞–Ω–∏—è
- **–ë—ã–ª–æ**: 5-15 —Å–µ–∫—É–Ω–¥ –æ–∂–∏–¥–∞–Ω–∏—è
- **–°—Ç–∞–ª–æ**: 1-3 —Å–µ–∫—É–Ω–¥—ã
- **–≠–∫–æ–Ω–æ–º–∏—è**: ~70% –≤—Ä–µ–º–µ–Ω–∏

### 4. üîÑ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫
- **–ë—ã–ª–æ**: –¥–æ 5 –ø–æ–ø—ã—Ç–æ–∫ –ø—Ä–∏ –±–µ–ª–æ–º —Å–∫—Ä–∏–Ω–µ
- **–°—Ç–∞–ª–æ**: –¥–æ 3 –ø–æ–ø—ã—Ç–æ–∫
- **–≠–∫–æ–Ω–æ–º–∏—è**: ~40% –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

### 5. üñ•Ô∏è –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –±—Ä–∞—É–∑–µ—Ä–∞
```python
browser_args = [
    "--disable-images",  # –ë–ª–æ–∫–∏—Ä—É–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
    "--disable-javascript",  # –ë–ª–æ–∫–∏—Ä—É–µ–º JS
    "--disable-plugins",  # –û—Ç–∫–ª—é—á–∞–µ–º –ø–ª–∞–≥–∏–Ω—ã
    "--disable-extensions",  # –û—Ç–∫–ª—é—á–∞–µ–º —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
    "--window-size=1366,768",  # –£–º–µ–Ω—å—à–µ–Ω–Ω—ã–π —Ä–∞–∑–º–µ—Ä
    "--aggressive-cache-discard",  # –ê–≥—Ä–µ—Å—Å–∏–≤–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –∫–µ—à–∞
    "--max_old_space_size=512",  # –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –ø–∞–º—è—Ç—å
]
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ç—Ä–∞—Ñ–∏–∫–∞

### TrafficMonitor –∫–ª–∞—Å—Å
```python
class TrafficMonitor:
    def start(self):  # –ù–∞—á–∞—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
    def log_request(self, type, size):  # –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å
    def log_blocked(self, type):  # –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–µ—Å—É—Ä—Å
    def get_summary(self):  # –ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
```

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- ‚è±Ô∏è **–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**
- üì° **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤**
- üö´ **–ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã**
- üìä **–û–±—ä–µ–º –¥–∞–Ω–Ω—ã—Ö (KB)**
- üìà **–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ (%)**

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### –≠–∫–æ–Ω–æ–º–∏—è —Ç—Ä–∞—Ñ–∏–∫–∞
- **–†–∞–∑–º–µ—Ä —Å–∫—Ä–∏–Ω—à–æ—Ç–∞**: ~40% –º–µ–Ω—å—à–µ
- **–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤**: ~80% –∑–∞–ø—Ä–æ—Å–æ–≤ –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è
- **–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**: ~70% –±—ã—Å—Ç—Ä–µ–µ
- **–ü–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏**: ~40% –º–µ–Ω—å—à–µ

### –ü—Ä–∏–º–µ—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
```
[TRAFFIC-MONITOR] üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ç—Ä–∞—Ñ–∏–∫–∞: {
    'duration': '3.45s',
    'requests': 12,
    'blocked': 48,
    'data_kb': '15.2KB',
    'efficiency': '80.0%'
}
```

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∏

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
```bash
# –†–∞–∑–º–µ—Ä viewport (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 1366x768)
SCREENSHOT_WIDTH=1366
SCREENSHOT_HEIGHT=768

# –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–µ –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 3)
MAX_RETRIES=3

# Timeout –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 30000ms)
PAGE_TIMEOUT=30000
```

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏
```python
# –†–µ—Å—É—Ä—Å—ã –¥–ª—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏
BLOCKED_RESOURCES = ["image", "media", "font", "stylesheet"]

# –†–µ—Å—É—Ä—Å—ã –¥–ª—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è
ALLOWED_RESOURCES = ["document", "script", "xhr", "fetch"]
```

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

### –ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏
1. **–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏** - % –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤
2. **–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è** - –æ–±—â–µ–µ –≤—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏
3. **–û–±—ä–µ–º –¥–∞–Ω–Ω—ã—Ö** - KB –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
4. **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤** - –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ HTTP –∑–∞–ø—Ä–æ—Å–æ–≤

### –¶–µ–ª–µ–≤—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏
- –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏: >80%
- –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: <5 —Å–µ–∫—É–Ω–¥
- –û–±—ä–µ–º –¥–∞–Ω–Ω—ã—Ö: <20KB –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤: <15 –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç

## üöÄ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### 1. –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤
- –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±—Ä–∞—É–∑–µ—Ä–Ω—ã—Ö —Å–µ—Å—Å–∏–π
- –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤

### 2. –°–∂–∞—Ç–∏–µ
- Gzip —Å–∂–∞—Ç–∏–µ HTTP –∑–∞–ø—Ä–æ—Å–æ–≤
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- –ú–∏–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è CSS/JS

### 3. –ü–∞—Ä–∞–ª–ª–µ–ª–∏–∑–∞—Ü–∏—è
- –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∞–∫–∫–∞—É–Ω—Ç–æ–≤
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
- –ü—É–ª —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π

## üîç –û—Ç–ª–∞–¥–∫–∞

### –õ–æ–≥–∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
```
[TRAFFIC-MONITOR] üöÄ –ù–∞—á–∏–Ω–∞–µ–º –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ç—Ä–∞—Ñ–∏–∫–∞...
[TRAFFIC-MONITOR] üö´ –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω: image (–≤—Å–µ–≥–æ: 1)
[TRAFFIC-MONITOR] üö´ –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω: stylesheet (–≤—Å–µ–≥–æ: 2)
[TRAFFIC-MONITOR] üì° –ó–∞–ø—Ä–æ—Å #1: document (0 bytes)
[TRAFFIC-MONITOR] üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ç—Ä–∞—Ñ–∏–∫–∞: {...}
```

### –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º
1. **–í—ã—Å–æ–∫–∏–π –æ–±—ä–µ–º –¥–∞–Ω–Ω—ã—Ö** - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –±–ª–æ–∫–∏—Ä–æ–≤–∫—É —Ä–µ—Å—É—Ä—Å–æ–≤
2. **–ú–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–æ–≤** - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏
3. **–î–æ–ª–≥–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ** - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å timeout'—ã
4. **–ù–∏–∑–∫–∞—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å** - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏

## üìù –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ç—Ä–∞—Ñ–∏–∫–∞ proxy –≤–∫–ª—é—á–∞–µ—Ç:
- ‚úÖ –£–º–µ–Ω—å—à–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤
- ‚úÖ –ë–ª–æ–∫–∏—Ä–æ–≤–∫—É –Ω–µ–Ω—É–∂–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é –≤—Ä–µ–º–µ–Ω–∏ –æ–∂–∏–¥–∞–Ω–∏—è
- ‚úÖ –°–æ–∫—Ä–∞—â–µ–Ω–∏–µ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫
- ‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –≠–∫–æ–Ω–æ–º–∏—è —Ç—Ä–∞—Ñ–∏–∫–∞ –¥–æ 80% –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –∫–∞—á–µ—Å—Ç–≤–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤.
