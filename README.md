# üì∏ Instagram Checker Bot

Telegram –±–æ—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è Instagram –∞–∫–∫–∞—É–Ω—Ç–æ–≤ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∞–≤—Ç–æ–ø—Ä–æ–≤–µ—Ä–∫–æ–π –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç.

## üöÄ –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚úÖ **–ü—Ä–æ–≤–µ—Ä–∫–∞ Instagram –∞–∫–∫–∞—É–Ω—Ç–æ–≤** —á–µ—Ä–µ–∑ API –∏ Instagram
- üì∏ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã** –ø—Ä–æ—Ñ–∏–ª–µ–π
- üîÑ **–ê–≤—Ç–æ–ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç** —Å APScheduler
- üîë **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ API –∫–ª—é—á–∞–º–∏** (RapidAPI)
- üåê **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø—Ä–æ–∫—Å–∏** —Å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- üë®‚Äçüíº **–ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å** —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
- üóÑÔ∏è **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** —Å –º–æ–¥–µ–ª—è–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –∞–∫–∫–∞—É–Ω—Ç–æ–≤, –∫–ª—é—á–µ–π

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Python 3.8+**
- **SQLAlchemy** - ORM –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î
- **Telegram Bot API** - –ø—Ä—è–º–æ–π HTTP API
- **Playwright** - –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –±—Ä–∞—É–∑–µ—Ä–∞ –¥–ª—è —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤
- **aiohttp** - –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ HTTP –∑–∞–ø—Ä–æ—Å—ã
- **APScheduler** - –Ω–∞–¥–µ–∂–Ω—ã–π –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á
- **RapidAPI** - –≤–Ω–µ—à–Ω–∏–π API –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ—Ñ–∏–ª–µ–π

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
```bash
git clone https://github.com/ukudarovv/instachecker.git
cd instachecker
```

### 2. –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
```bash
python -m venv .venv
```

### 3. –ê–∫—Ç–∏–≤–∞—Ü–∏—è –æ–∫—Ä—É–∂–µ–Ω–∏—è
```bash
# Windows
.venv\Scripts\activate

# Linux/Mac
source .venv/bin/activate
```

### 4. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
pip install -r requirements.txt
playwright install
```

### 5. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
–°–∫–æ–ø–∏—Ä—É–π—Ç–µ `env.example` –≤ `.env` –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ:
```bash
cp env.example .env
```

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (.env):
```env
# Telegram Bot
BOT_TOKEN=your_bot_token_here

# Database
DATABASE_URL=sqlite:///./instachecker.db

# RapidAPI
RAPIDAPI_HOST=instagram210.p.rapidapi.com
RAPIDAPI_URL=https://instagram210.p.rapidapi.com/ig_profile
API_DAILY_LIMIT=950
RAPIDAPI_TIMEOUT_SECONDS=10

# Auto-check
AUTO_CHECK_INTERVAL_MINUTES=5

# Instagram
INSTAGRAM_HEADLESS=true
INSTAGRAM_TIMEOUT_MS=30000
```

## üöÄ –ó–∞–ø—É—Å–∫

### –ü—Ä–æ—Å—Ç–æ–π –∑–∞–ø—É—Å–∫:
```bash
python run_bot.py
```

### –° –∞–≤—Ç–æ–ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–æ–º:
```bash
# Windows
start.bat

# Linux/Mac
./start.sh
```

## üìä –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### APScheduler Auto-Checker
- ‚è∞ **APScheduler** –¥–ª—è –Ω–∞–¥–µ–∂–Ω–æ–≥–æ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–æ–∫
- üîÑ **AsyncIOScheduler** –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- üì¨ **–ü—Ä—è–º—ã–µ –æ—Ç–ø—Ä–∞–≤–∫–∏** –≤ Telegram —á–µ—Ä–µ–∑ aiohttp
- ‚è∞ **–ü–µ—Ä–∏–æ–¥–∏—á–Ω–æ—Å—Ç—å**: –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è)
- üõ°Ô∏è **–ó–∞—â–∏—Ç–∞ –æ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è** –∑–∞–¥–∞—á (max_instances=1)
- üîÑ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ** –ø–æ—Å–ª–µ –æ—à–∏–±–æ–∫

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
- `project/bot.py` - –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –±–æ—Ç–∞
- `project/auto_checker_scheduler.py` - APScheduler –∞–≤—Ç–æ–ø—Ä–æ–≤–µ—Ä–∫–∞
- `project/utils/async_bot_wrapper.py` - –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±–µ—Ä—Ç–∫–∞ –±–æ—Ç–∞
- `project/cron/auto_checker.py` - –ª–æ–≥–∏–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∞–∫–∫–∞—É–Ω—Ç–æ–≤

## üéØ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

### –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:
- ‚ûï **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–æ–≤** –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
- üîç **–†—É—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞** –∞–∫–∫–∞—É–Ω—Ç–æ–≤
- üì∏ **–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤** –ø—Ä–æ—Ñ–∏–ª–µ–π
- üìä **–ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏** –∞–∫–∫–∞—É–Ω—Ç–æ–≤

### –î–ª—è –∞–¥–º–∏–Ω–æ–≤:
- ‚öôÔ∏è **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞** –∞–≤—Ç–æ–ø—Ä–æ–≤–µ—Ä–∫–∏
- üîÑ **–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –±–æ—Ç–∞**
- üìä **–ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏** —Å–∏—Å—Ç–µ–º—ã
- üîë **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ API –∫–ª—é—á–∞–º–∏**

### API –∫–ª—é—á–∏:
- ‚ûï **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ** RapidAPI –∫–ª—é—á–µ–π
- üß™ **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** –∫–ª—é—á–µ–π
- üìä **–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è**
- üîÑ **–ê–≤—Ç–æ—Å–±—Ä–æ—Å** —Å—á–µ—Ç—á–∏–∫–æ–≤ –µ–∂–µ–¥–Ω–µ–≤–Ω–æ

## üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### –ú–æ–¥–µ–ª–∏:
- **User** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –±–æ—Ç–∞
- **Account** - Instagram –∞–∫–∫–∞—É–Ω—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
- **API** - API –∫–ª—é—á–∏ RapidAPI
- **Proxy** - –ø—Ä–æ–∫—Å–∏ —Å–µ—Ä–≤–µ—Ä—ã
- **InstagramSession** - —Å–µ—Å—Å–∏–∏ Instagram
- **SystemSettings** - —Å–∏—Å—Ç–µ–º–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

## üîß –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞:
```
project/
‚îú‚îÄ‚îÄ bot.py                    # –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –±–æ—Ç–∞
‚îú‚îÄ‚îÄ models.py                 # –ú–æ–¥–µ–ª–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ config.py                 # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ keyboards.py              # –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã Telegram
‚îú‚îÄ‚îÄ states.py                 # FSM —Å–æ—Å—Ç–æ—è–Ω–∏—è
‚îú‚îÄ‚îÄ handlers/                 # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥
‚îú‚îÄ‚îÄ services/                 # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îú‚îÄ‚îÄ utils/                    # –£—Ç–∏–ª–∏—Ç—ã
‚îú‚îÄ‚îÄ cron/                     # –ê–≤—Ç–æ–ø—Ä–æ–≤–µ—Ä–∫–∞
‚îî‚îÄ‚îÄ auto_checker_threaded.py  # ThreadSafe –∞–≤—Ç–æ–ø—Ä–æ–≤–µ—Ä–∫–∞
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:
```bash
# –¢–µ—Å—Ç –±–æ—Ç–∞
python test_bot.py

# –¢–µ—Å—Ç –∞–≤—Ç–æ–ø—Ä–æ–≤–µ—Ä–∫–∏
python test_debug_check.py

# –¢–µ—Å—Ç –ø—Ä–æ–∫—Å–∏
python test_proxy_connection.py
```

## üìù –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–ë–æ—Ç –≤–µ–¥–µ—Ç –ø–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏:
- üîÑ **–ó–∞–ø—É—Å–∫ –∞–≤—Ç–æ–ø—Ä–æ–≤–µ—Ä–∫–∏**
- ‚úÖ **–ù–∞–π–¥–µ–Ω–Ω—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã**
- ‚ùå **–ù–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∞–∫–∫–∞—É–Ω—Ç—ã**
- ‚ö†Ô∏è **–û—à–∏–±–∫–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏**
- üìä **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è**

## üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- üîê **–®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ** Instagram cookies
- üîë **–ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ** API –∫–ª—é—á–µ–π
- üåê **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø—Ä–æ–∫—Å–∏** –¥–ª—è –∞–Ω–æ–Ω–∏–º–Ω–æ—Å—Ç–∏
- ‚è∞ **Rate limiting** –¥–ª—è API –∑–∞–ø—Ä–æ—Å–æ–≤

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏
2. –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫ `.env`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –≤—Å–µ—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License

---

**üéâ –ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!**

–ê–≤—Ç–æ–ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç —Å APScheduler ‚Äî –Ω–∞–¥–µ–∂–Ω—ã–º –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω—ã–º –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–æ–º –∑–∞–¥–∞—á.

---

## üîÑ **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å Threading –Ω–∞ APScheduler**

–ï—Å–ª–∏ —É –≤–∞—Å —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –ø—Ä–µ–¥—ã–¥—É—â–∞—è –≤–µ—Ä—Å–∏—è, –æ–±–Ω–æ–≤–∏—Ç–µ—Å—å:

```bash
# Linux
./update_to_apscheduler.sh

# Windows
update_to_apscheduler.bat
```

–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –≤ [APSCHEDULER_MIGRATION.md](APSCHEDULER_MIGRATION.md)