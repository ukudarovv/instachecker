# ü§ñ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∞–∫–∫–∞—É–Ω—Ç–æ–≤

## –û–±–∑–æ—Ä

–ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –≤—Å–µ –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã (—Å `done=False`) –∫–∞–∂–¥—ã–µ N –º–∏–Ω—É—Ç –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ.

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### 1. **–ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞**
- –ë–æ—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç —Ñ–æ–Ω–æ–≤—É—é –∑–∞–¥–∞—á—É –∫–∞–∂–¥—ã–µ 10 –º–∏–Ω—É—Ç (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è)
- –í—ã–±–∏—Ä–∞–µ—Ç –¥–æ 5 –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —á–µ—Ä–µ–∑ –≥–∏–±—Ä–∏–¥–Ω—ã–π –º–µ—Ç–æ–¥ (API + Instagram)
- –û–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç–∞—Ç—É—Å –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º

### 2. **–ü—Ä–æ—Ü–µ—Å—Å –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞**

```
1. –ü–æ–ª—É—á–∏—Ç—å –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã (done=False)
2. –î–ª—è –∫–∞–∂–¥–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞:
   ‚îú‚îÄ‚îÄ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ –∞–∫—Ç–∏–≤–Ω–æ–π IG-—Å–µ—Å—Å–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   ‚îú‚îÄ‚îÄ –ï—Å–ª–∏ –µ—Å—Ç—å —Å–µ—Å—Å–∏—è:
   ‚îÇ   ‚îú‚îÄ‚îÄ –ó–∞–ø—É—Å—Ç–∏—Ç—å hybrid_checker
   ‚îÇ   ‚îú‚îÄ‚îÄ –°–¥–µ–ª–∞—Ç—å —Å–∫—Ä–∏–Ω—à–æ—Ç (–æ–±—Ä–µ–∑–∞–Ω–Ω—ã–π)
   ‚îÇ   ‚îî‚îÄ‚îÄ –ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω:
   ‚îÇ       ‚îú‚îÄ‚îÄ –û–±–Ω–æ–≤–∏—Ç—å done=True
   ‚îÇ       ‚îú‚îÄ‚îÄ –û—Ç–ø—Ä–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
   ‚îÇ       ‚îî‚îÄ‚îÄ –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–∫—Ä–∏–Ω—à–æ—Ç
   ‚îî‚îÄ‚îÄ –ó–∞–¥–µ—Ä–∂–∫–∞ 5 —Å–µ–∫—É–Ω–¥ (–∏–∑–±–µ–∂–∞—Ç—å rate limit)
```

### 3. **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º**

–ö–æ–≥–¥–∞ –∞–∫–∫–∞—É–Ω—Ç –Ω–∞–π–¥–µ–Ω, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç:

```
üéâ –ê–≤—Ç–æ–ø—Ä–æ–≤–µ—Ä–∫–∞!

‚úÖ –ê–∫–∫–∞—É–Ω—Ç @username –Ω–∞–π–¥–µ–Ω –∏ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω!
‚Ä¢ –î–∞—Ç–∞ —Å—Ç–∞—Ä—Ç–∞: 2025-10-10
‚Ä¢ –ü–µ—Ä–∏–æ–¥: 7 –¥–Ω–µ–π
```

+ –°–∫—Ä–∏–Ω—à–æ—Ç –ø—Ä–æ—Ñ–∏–ª—è (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è–µ—Ç—Å—è –ø–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏)

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (`.env`)

```bash
# –ò–Ω—Ç–µ—Ä–≤–∞–ª –∞–≤—Ç–æ–ø—Ä–æ–≤–µ—Ä–∫–∏ (–≤ –º–∏–Ω—É—Ç–∞—Ö)
AUTO_CHECK_INTERVAL_MINUTES=10
```

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:**
- `5` - —á–∞—Å—Ç–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ (–¥–ª—è –≤–∞–∂–Ω—ã—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤)
- `10` - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- `15` - —Ä–µ–¥–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ (—ç–∫–æ–Ω–æ–º–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤)
- `30` - –æ—á–µ–Ω—å —Ä–µ–¥–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∑–∞ –∑–∞–ø—É—Å–∫

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è **–º–∞–∫—Å–∏–º—É–º 5 –∞–∫–∫–∞—É–Ω—Ç–æ–≤** –∑–∞ –æ–¥–∏–Ω –∑–∞–ø—É—Å–∫ –∞–≤—Ç–æ–ø—Ä–æ–≤–µ—Ä–∫–∏.

–≠—Ç–æ –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –≤ `project/cron/auto_checker.py`:

```python
await check_pending_accounts(SessionLocal, bot, max_accounts=5)
```

## –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–ê–≤—Ç–æ–ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—ã–≤–æ–¥–∏—Ç –ø–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏:

```
[AUTO-CHECK] 2025-10-10 08:00:00 - Starting automatic check...
[AUTO-CHECK] Found 3 pending accounts to check.
[AUTO-CHECK] Checking @username1...
[AUTO-CHECK] ‚úÖ @username1 - FOUND
[AUTO-CHECK] Checking @username2...
[AUTO-CHECK] ‚ùå @username2 - NOT FOUND
[AUTO-CHECK] Checking @username3...
[AUTO-CHECK] ‚ùì @username3 - ERROR: timeout

[AUTO-CHECK] Completed!
  ‚Ä¢ Checked: 3
  ‚Ä¢ Found: 1
  ‚Ä¢ Not found: 1
  ‚Ä¢ Errors: 1
```

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

1. **Instagram —Å–µ—Å—Å–∏—è**: –£ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∞–∫—Ç–∏–≤–Ω–∞—è IG-—Å–µ—Å—Å–∏—è
2. **API –∫–ª—é—á**: (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –¥–ª—è –≥–∏–±—Ä–∏–¥–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏
3. **Playwright**: –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –±—Ä–∞—É–∑–µ—Ä Chromium

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
project/
‚îú‚îÄ‚îÄ cron/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ schedule.py          # –ì–ª–∞–≤–Ω—ã–π –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ cron
‚îÇ   ‚îî‚îÄ‚îÄ auto_checker.py      # –õ–æ–≥–∏–∫–∞ –∞–≤—Ç–æ–ø—Ä–æ–≤–µ—Ä–∫–∏
‚îî‚îÄ‚îÄ bot.py                   # –ó–∞–ø—É—Å–∫ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
```

### –§–∞–π–ª—ã

1. **`auto_checker.py`**
   - `check_pending_accounts()` - –æ—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏
   - `start_auto_checker()` - –∑–∞–ø—É—Å–∫ cron –∑–∞–¥–∞—á–∏

2. **`schedule.py`**
   - –û–±—ä–µ–¥–∏–Ω—è–µ—Ç –≤—Å–µ cron –∑–∞–¥–∞—á–∏
   - –°–±—Ä–æ—Å API —Å—á–µ—Ç—á–∏–∫–æ–≤ (00:01 –µ–∂–µ–¥–Ω–µ–≤–Ω–æ)
   - –ê–≤—Ç–æ–ø—Ä–æ–≤–µ—Ä–∫–∞ –∞–∫–∫–∞—É–Ω—Ç–æ–≤ (–∫–∞–∂–¥—ã–µ N –º–∏–Ω—É—Ç)

3. **`bot.py`**
   - –ü–µ—Ä–µ–¥–∞–µ—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä –±–æ—Ç–∞ –≤ cron –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

1. **–ó–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏**: 5 —Å–µ–∫—É–Ω–¥
   - –ò–∑–±–µ–≥–∞–µ—Ç rate limiting –æ—Ç Instagram
   - –°–Ω–∏–∂–∞–µ—Ç –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ API

2. **–õ–∏–º–∏—Ç –∞–∫–∫–∞—É–Ω—Ç–æ–≤**: 5 –∑–∞ –∑–∞–ø—É—Å–∫
   - –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –¥–æ–ª–≥–∏–µ –∑–∞–≤–∏—Å–∞–Ω–∏—è
   - –†–∞—Å–ø—Ä–µ–¥–µ–ª—è–µ—Ç –Ω–∞–≥—Ä—É–∑–∫—É

3. **–ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è**
   - –ü—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è —Å–∞–º—ã–µ —Å—Ç–∞—Ä—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã –ø–µ—Ä–≤—ã–º–∏
   - `ORDER BY from_date ASC`

### –†–∞—Å—á–µ—Ç –≤—Ä–µ–º–µ–Ω–∏

```
–ò–Ω—Ç–µ—Ä–≤–∞–ª: 10 –º–∏–Ω—É—Ç
–ú–∞–∫—Å. –∞–∫–∫–∞—É–Ω—Ç–æ–≤: 5
–ó–∞–¥–µ—Ä–∂–∫–∞: 5 —Å–µ–∫—É–Ω–¥

–í—Ä–µ–º—è –Ω–∞ –æ–¥–∏–Ω –∑–∞–ø—É—Å–∫: ~25-40 —Å–µ–∫—É–Ω–¥
–ê–∫–∫–∞—É–Ω—Ç–æ–≤ –≤ —á–∞—Å: ~30
–ê–∫–∫–∞—É–Ω—Ç–æ–≤ –≤ —Å—É—Ç–∫–∏: ~720
```

## –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –∞–≤—Ç–æ–ø—Ä–æ–≤–µ—Ä–∫–∏

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å:

1. **–í—Ä–µ–º–µ–Ω–Ω–æ**: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –æ—á–µ–Ω—å –±–æ–ª—å—à–æ–π –∏–Ω—Ç–µ—Ä–≤–∞–ª
   ```bash
   AUTO_CHECK_INTERVAL_MINUTES=999999
   ```

2. **–ü–æ–ª–Ω–æ—Å—Ç—å—é**: –ó–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –≤ `bot.py`
   ```python
   # start_auto_checker(SessionLocal, bot, interval_minutes=auto_check_interval)
   ```

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ê–≤—Ç–æ–ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:
   ```
   [AUTO-CHECK] Started automatic checker (every 10 minutes)
   ```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤:
   ```sql
   SELECT * FROM accounts WHERE done = 0;
   ```

3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ IG-—Å–µ—Å—Å–∏–∏:
   ```sql
   SELECT * FROM instagram_sessions WHERE is_active = 1;
   ```

### –ê–∫–∫–∞—É–Ω—Ç—ã –Ω–µ –Ω–∞—Ö–æ–¥—è—Ç—Å—è

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–∞—á–µ—Å—Ç–≤–æ IG-—Å–µ—Å—Å–∏–∏ (cookies –º–æ–≥–ª–∏ —É—Å—Ç–∞—Ä–µ—Ç—å)
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ API –∫–ª—é—á–∏ (–ª–∏–º–∏—Ç—ã –º–æ–≥–ª–∏ –±—ã—Ç—å –ø—Ä–µ–≤—ã—à–µ–Ω—ã)
3. –£–≤–µ–ª–∏—á—å—Ç–µ timeout –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö

### –ú–Ω–æ–≥–æ –æ—à–∏–±–æ–∫

1. –£–≤–µ–ª–∏—á—å—Ç–µ –∑–∞–¥–µ—Ä–∂–∫—É –º–µ–∂–¥—É –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏
2. –£–º–µ–Ω—å—à–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫–∫–∞—É–Ω—Ç–æ–≤ –∑–∞ –∑–∞–ø—É—Å–∫
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

–î–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∞–≤—Ç–æ–ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:

1. **–ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ª–æ–≥–∏** —Ä–µ–≥—É–ª—è—Ä–Ω–æ
2. **–û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É** (–Ω–∞–π–¥–µ–Ω–æ/–Ω–µ –Ω–∞–π–¥–µ–Ω–æ)
3. **–ü—Ä–æ–≤–µ—Ä—è—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å —Å–µ—Å—Å–∏–π** –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- ‚úÖ –°–∫—Ä–∏–Ω—à–æ—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è—é—Ç—Å—è –ø–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏
- ‚úÖ –ó–∞–¥–µ—Ä–∂–∫–∏ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞—é—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∫—É –æ—Ç Instagram
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ —Å–µ—Å—Å–∏–∏
- ‚úÖ –ù–µ —Ö—Ä–∞–Ω–∏—Ç —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ –ª–æ–≥–∞—Ö

