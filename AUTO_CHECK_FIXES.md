# üêõ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –∞–∫–∫–∞—É–Ω—Ç–∞

## –ü—Ä–æ–±–ª–µ–º—ã

1. **–ó–∞–≤–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏**: –ü—Ä–æ—Ü–µ—Å—Å "–ü—Ä–æ–≤–µ—Ä—è—é —á–µ—Ä–µ–∑ API + Instagram..." –∑–∞–≤–∏—Å–∞–ª –±–µ–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
2. **–û—à–∏–±–∫–∞ 400 Bad Request**: –ü—Ä–æ–±–ª–µ–º—ã —Å –æ—Ç–ø—Ä–∞–≤–∫–æ–π —Å–æ–æ–±—â–µ–Ω–∏–π –≤ Telegram

## –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π

**–ü—Ä–æ–±–ª–µ–º–∞**: 400 Bad Request –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Å–æ–æ–±—â–µ–Ω–∏–π —Å HTML —Ä–∞–∑–º–µ—Ç–∫–æ–π

**–†–µ—à–µ–Ω–∏–µ**: –î–æ–±–∞–≤–ª–µ–Ω fallback –±–µ–∑ HTML –ø–∞—Ä—Å–∏–Ω–≥–∞

```python
def send_message(self, chat_id: int, text: str, reply_markup: Dict = None) -> bool:
    try:
        response = requests.post(url, json=data, timeout=10)
        response.raise_for_status()
        return response.json().get("ok", False)
    except requests.RequestException as e:
        print(f"Error sending message: {e}")
        # Try to send without HTML parsing if that's the issue
        try:
            data.pop("parse_mode", None)
            response = requests.post(url, json=data, timeout=10)
            response.raise_for_status()
            return response.json().get("ok", False)
        except requests.RequestException as e2:
            print(f"Error sending message (retry): {e2}")
            return False
```

### 2. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω —Ç–∞–π–º–∞—É—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

**–ü—Ä–æ–±–ª–µ–º–∞**: `asyncio.run()` –º–æ–≥ –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –æ—Å–Ω–æ–≤–Ω–æ–π –ø–æ—Ç–æ–∫ –Ω–∞ –Ω–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–µ –≤—Ä–µ–º—è

**–†–µ—à–µ–Ω–∏–µ**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `asyncio.wait_for()` —Å —Ç–∞–π–º–∞—É—Ç–æ–º 30 —Å–µ–∫—É–Ω–¥

```python
async def check_with_timeout():
    with session_factory() as s2:
        return await check_account_hybrid(
            session=s2,
            user_id=user.id,
            username=username,
            ig_session=ig_session,
            fernet=fernet
        )

try:
    # Set timeout for the check (30 seconds)
    check_result = asyncio.run(asyncio.wait_for(check_with_timeout(), timeout=30.0))
except asyncio.TimeoutError:
    self.send_message(chat_id, "‚ö†Ô∏è –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–µ–≤—ã—Å–∏–ª–∞ –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è (30 —Å–µ–∫).\n–ê–∫–∫–∞—É–Ω—Ç –¥–æ–±–∞–≤–ª–µ–Ω, –Ω–æ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞.")
```

### 3. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è Instagram —Å–µ—Å—Å–∏–∏

**–ü—Ä–æ–±–ª–µ–º–∞**: –ü–æ–ø—ã—Ç–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –±–µ–∑ IG —Å–µ—Å—Å–∏–∏ –ø—Ä–∏–≤–æ–¥–∏–ª–∞ –∫ –æ—à–∏–±–∫–∞–º

**–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ

```python
# Check if we have any way to verify
if not ig_session:
    self.send_message(chat_id, 
        "‚ö†Ô∏è –ù–µ—Ç Instagram —Å–µ—Å—Å–∏–∏ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏.\n"
        "–ê–∫–∫–∞—É–Ω—Ç –¥–æ–±–∞–≤–ª–µ–Ω, –Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–ø—É—â–µ–Ω–∞.\n"
        "–î–æ–±–∞–≤—å—Ç–µ IG-—Å–µ—Å—Å–∏—é —á–µ—Ä–µ–∑ –º–µ–Ω—é 'Instagram' –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏."
    )
    return
```

## –†–µ–∑—É–ª—å—Ç–∞—Ç

### –¢–µ–ø–µ—Ä—å –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –∞–∫–∫–∞—É–Ω—Ç–∞:

#### ‚úÖ –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ï—Å—Ç—å IG —Å–µ—Å—Å–∏—è, –ø—Ä–æ–≤–µ—Ä–∫–∞ —É—Å–ø–µ—à–Ω–∞
```
‚úÖ –ê–∫–∫–∞—É–Ω—Ç –¥–æ–±–∞–≤–ª–µ–Ω.
‚Ä¢ –ò–º—è: @username
‚Ä¢ –î–∞—Ç–∞ —Å—Ç–∞—Ä—Ç–∞: 2025-10-10
‚Ä¢ –ü–µ—Ä–∏–æ–¥ (–¥–Ω–µ–π): 30
‚Ä¢ –î–æ: 2025-11-09

‚è≥ –ü—Ä–æ–≤–µ—Ä—è—é —á–µ—Ä–µ–∑ API + Instagram...

[–¥–æ 30 —Å–µ–∫—É–Ω–¥]

‚úÖ @username
–ò–º—è: Full Name
–ü–æ–¥–ø–∏—Å—á–∏–∫–∏: 1,234
üîç –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ: API + Instagram
‚úÖ –ê–∫–∫–∞—É–Ω—Ç –Ω–∞–π–¥–µ–Ω –∏ –æ—Ç–º–µ—á–µ–Ω –∫–∞–∫ –∞–∫—Ç–∏–≤–Ω—ã–π!

[üì∏ –°–∫—Ä–∏–Ω—à–æ—Ç]
```

#### ‚ö†Ô∏è –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ù–µ—Ç IG —Å–µ—Å—Å–∏–∏
```
‚úÖ –ê–∫–∫–∞—É–Ω—Ç –¥–æ–±–∞–≤–ª–µ–Ω.
‚Ä¢ –ò–º—è: @username
‚Ä¢ –î–∞—Ç–∞ —Å—Ç–∞—Ä—Ç–∞: 2025-10-10
‚Ä¢ –ü–µ—Ä–∏–æ–¥ (–¥–Ω–µ–π): 30
‚Ä¢ –î–æ: 2025-11-09

‚ö†Ô∏è –ù–µ—Ç Instagram —Å–µ—Å—Å–∏–∏ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏.
–ê–∫–∫–∞—É–Ω—Ç –¥–æ–±–∞–≤–ª–µ–Ω, –Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–ø—É—â–µ–Ω–∞.
–î–æ–±–∞–≤—å—Ç–µ IG-—Å–µ—Å—Å–∏—é —á–µ—Ä–µ–∑ –º–µ–Ω—é 'Instagram' –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏.
```

#### ‚è∞ –°—Ü–µ–Ω–∞—Ä–∏–π 3: –¢–∞–π–º–∞—É—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏
```
‚úÖ –ê–∫–∫–∞—É–Ω—Ç –¥–æ–±–∞–≤–ª–µ–Ω.
‚Ä¢ –ò–º—è: @username
‚Ä¢ –î–∞—Ç–∞ —Å—Ç–∞—Ä—Ç–∞: 2025-10-10
‚Ä¢ –ü–µ—Ä–∏–æ–¥ (–¥–Ω–µ–π): 30
‚Ä¢ –î–æ: 2025-11-09

‚è≥ –ü—Ä–æ–≤–µ—Ä—è—é —á–µ—Ä–µ–∑ API + Instagram...

‚ö†Ô∏è –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–µ–≤—ã—Å–∏–ª–∞ –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è (30 —Å–µ–∫).
–ê–∫–∫–∞—É–Ω—Ç –¥–æ–±–∞–≤–ª–µ–Ω, –Ω–æ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞.
```

#### ‚ùå –°—Ü–µ–Ω–∞—Ä–∏–π 4: –û—à–∏–±–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏
```
‚úÖ –ê–∫–∫–∞—É–Ω—Ç –¥–æ–±–∞–≤–ª–µ–Ω.
‚Ä¢ –ò–º—è: @username
‚Ä¢ –î–∞—Ç–∞ —Å—Ç–∞—Ä—Ç–∞: 2025-10-10
‚Ä¢ –ü–µ—Ä–∏–æ–¥ (–¥–Ω–µ–π): 30
‚Ä¢ –î–æ: 2025-11-09

‚è≥ –ü—Ä–æ–≤–µ—Ä—è—é —á–µ—Ä–µ–∑ API + Instagram...

‚ö†Ô∏è –û—à–∏–±–∫–∞ –ø—Ä–∏ –ø—Ä–æ–≤–µ—Ä–∫–µ: Connection timeout
–ê–∫–∫–∞—É–Ω—Ç –¥–æ–±–∞–≤–ª–µ–Ω, –Ω–æ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞.
```

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –§–∞–π–ª: `project/bot.py`

#### –ò–∑–º–µ–Ω–µ–Ω–∏—è:

1. **–°—Ç—Ä–æ–∫–∏ 74-100**: –£–ª—É—á—à–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `send_message()`
   - –î–æ–±–∞–≤–ª–µ–Ω fallback –±–µ–∑ HTML –ø–∞—Ä—Å–∏–Ω–≥–∞
   - –õ—É—á—à–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

2. **–°—Ç—Ä–æ–∫–∏ 644-651**: –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ IG —Å–µ—Å—Å–∏–∏
   - –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ —Å–µ—Å—Å–∏–∏
   - –ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é

3. **–°—Ç—Ä–æ–∫–∏ 653-704**: –£–ª—É—á—à–µ–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
   - –¢–∞–π–º–∞—É—Ç 30 —Å–µ–∫—É–Ω–¥
   - –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ `asyncio.TimeoutError`
   - –û—Ç–º–µ–Ω–∞ —Ç–∞–π–º–∞—É—Ç–∞ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

### üõ°Ô∏è –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å
- –¢–∞–π–º–∞—É—Ç –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –∑–∞–≤–∏—Å–∞–Ω–∏–µ
- Fallback –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º

### üì± UX —É–ª—É—á—à–µ–Ω–∏—è
- –ü–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–æ–º, —á—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å
- –ê–∫–∫–∞—É–Ω—Ç –≤—Å–µ–≥–¥–∞ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è, –¥–∞–∂–µ –ø—Ä–∏ –æ—à–∏–±–∫–µ –ø—Ä–æ–≤–µ—Ä–∫–∏

### ‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- –ú–∞–∫—Å–∏–º—É–º 30 —Å–µ–∫—É–Ω–¥ –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫—É
- –ù–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø–æ—Ç–æ–∫–∞
- –ë—ã—Å—Ç—Ä—ã–π fallback –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏:

1. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å IG —Å–µ—Å—Å–∏–µ–π**:
   - –î–æ–±–∞–≤—å—Ç–µ IG —Å–µ—Å—Å–∏—é —á–µ—Ä–µ–∑ –º–µ–Ω—é "Instagram"
   - –î–æ–±–∞–≤—å—Ç–µ –∞–∫–∫–∞—É–Ω—Ç
   - –î–æ–ª–∂–Ω–∞ –ø—Ä–æ–π—Ç–∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º

2. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –±–µ–∑ IG —Å–µ—Å—Å–∏–∏**:
   - –£–¥–∞–ª–∏—Ç–µ IG —Å–µ—Å—Å–∏—é
   - –î–æ–±–∞–≤—å—Ç–µ –∞–∫–∫–∞—É–Ω—Ç
   - –î–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ IG —Å–µ—Å—Å–∏–∏

3. **–ü—Ä–æ–±–ª–µ–º—ã —Å —Å–µ—Ç—å—é**:
   - –û—Ç–∫–ª—é—á–∏—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç
   - –î–æ–±–∞–≤—å—Ç–µ –∞–∫–∫–∞—É–Ω—Ç
   - –î–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ

4. **–¢–∞–π–º–∞—É—Ç**:
   - –î–æ–±–∞–≤—å—Ç–µ –∞–∫–∫–∞—É–Ω—Ç —Å –æ—á–µ–Ω—å –º–µ–¥–ª–µ–Ω–Ω—ã–º –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–æ–º
   - –ß–µ—Ä–µ–∑ 30 —Å–µ–∫—É–Ω–¥ –¥–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ –æ —Ç–∞–π–º–∞—É—Ç–µ

## –°—Ç–∞—Ç—É—Å

‚úÖ **–í—Å–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã**

- ‚úÖ –°–∏–Ω—Ç–∞–∫—Å–∏—Å Python - OK
- ‚úÖ –õ–∏–Ω—Ç–µ—Ä - –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞
- ‚úÖ –¢–∞–π–º–∞—É—Ç—ã - –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- ‚úÖ Fallback –º–µ—Ö–∞–Ω–∏–∑–º—ã - —Ä–∞–±–æ—Ç–∞—é—Ç

---

**–î–∞—Ç–∞**: 2025-10-10  
**–§–∞–π–ª**: `project/bot.py`  
**–°—Ç—Ä–æ–∫ –∏–∑–º–µ–Ω–µ–Ω–æ**: 35  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
