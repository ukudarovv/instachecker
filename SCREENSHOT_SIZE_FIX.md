# üìê Screenshot Size Fix

## –ü—Ä–æ–±–ª–µ–º–∞

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ø—Ä–æ—Å–∏–ª: "—Å–¥–µ–ª–∞–π –Ω–µ 1280x4050 –∞ 1280x1920", –∞ –∑–∞—Ç–µ–º —É—Ç–æ—á–Ω–∏–ª: "—Ç–∞–∫ –ª—É—á—â–µ 1280x960"

## –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º—ã

### ‚ùå **–ß—Ç–æ –±—ã–ª–æ –Ω–µ —Ç–∞–∫:**

1. **–°–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π —Ä–∞–∑–º–µ—Ä —Å–∫—Ä–∏–Ω—à–æ—Ç–∞**
   - –†–∞–∑–º–µ—Ä –±—ã–ª 1280x4050 (–æ—á–µ–Ω—å –≤—ã—Å–æ–∫–∏–π)
   - –†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ –±—ã–ª —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π (1974.7 KB)
   - –ù–µ—É–¥–æ–±–Ω–æ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏

2. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ full_page=True**
   - `full_page=True` —Å–æ–∑–¥–∞–µ—Ç —Å–∫—Ä–∏–Ω—à–æ—Ç –≤—Å–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
   - –†–∞–∑–º–µ—Ä –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
   - –ú–æ–∂–µ—Ç –±—ã—Ç—å –æ—á–µ–Ω—å –±–æ–ª—å—à–∏–º –¥–ª—è –¥–ª–∏–Ω–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü

## –†–µ—à–µ–Ω–∏–µ

### ‚úÖ **–ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:**

1. **–ò–∑–º–µ–Ω–µ–Ω —Ä–∞–∑–º–µ—Ä viewport**
   ```python
   # –ë—ã–ª–æ: viewport={"width": 1280, "height": 1920}
   # –°—Ç–∞–ª–æ: viewport={"width": 1280, "height": 960}
   viewport={"width": 1280, "height": 960}
   ```

2. **–û—Ç–∫–ª—é—á–µ–Ω full_page**
   ```python
   # –ë—ã–ª–æ: await page.screenshot(path=screenshot_path, full_page=True)
   # –°—Ç–∞–ª–æ: await page.screenshot(path=screenshot_path, full_page=False)
   await page.screenshot(path=screenshot_path, full_page=False)
   ```

3. **–£–±—Ä–∞–Ω–æ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞**
   ```python
   # –£–±—Ä–∞–Ω–æ: await page.set_viewport_size({"width": 1280, "height": 1920})
   # –û—Å—Ç–∞–≤–ª–µ–Ω–æ: —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ä–∞–∑–º–µ—Ä viewport 1280x960
   ```

## –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### ‚úÖ **–¢–µ—Å—Ç: @ukudarov**

**–î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- –†–∞–∑–º–µ—Ä: 1280x1980
- –†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞: 43.3 KB

**–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- –†–∞–∑–º–µ—Ä: **1280x960** ‚úÖ
- –†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞: **37.1 KB** ‚úÖ

### üìä **–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–æ–≤:**

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è | –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è | –£–ª—É—á—à–µ–Ω–∏–µ |
|----------|----------------|-------------------|-----------|
| –®–∏—Ä–∏–Ω–∞ | 1280px | 1280px | ‚úÖ –û–¥–∏–Ω–∞–∫–æ–≤–æ |
| –í—ã—Å–æ—Ç–∞ | 1980px | 960px | ‚úÖ –£–º–µ–Ω—å—à–µ–Ω–æ –≤ 2 —Ä–∞–∑–∞ |
| –†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ | 43.3 KB | 37.1 KB | ‚úÖ –£–º–µ–Ω—å—à–µ–Ω–æ –Ω–∞ 14% |

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### 1. –ò–∑–º–µ–Ω–µ–Ω–∏–µ viewport

```python
# –í project/services/ig_screenshot.py
context_options = {
    "viewport": {"width": 1280, "height": 960},  # –ò–∑–º–µ–Ω–µ–Ω–æ —Å 1920 –Ω–∞ 960
    "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"
}
```

### 2. –û—Ç–∫–ª—é—á–µ–Ω–∏–µ full_page

```python
# –í project/services/ig_screenshot.py
try:
    await page.screenshot(path=screenshot_path, full_page=False)  # –ò–∑–º–µ–Ω–µ–Ω–æ —Å True –Ω–∞ False
    print(f"[PROXY-FULL-SCREENSHOT] ‚úÖ –°–∫—Ä–∏–Ω—à–æ—Ç —Å–æ–∑–¥–∞–Ω —É—Å–ø–µ—à–Ω–æ")
```

### 3. –£–±—Ä–∞–Ω–æ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞

```python
# –£–±—Ä–∞–Ω–æ:
# await page.set_viewport_size({"width": 1280, "height": 1920})

# –û—Å—Ç–∞–≤–ª–µ–Ω–æ:
print(f"[PROXY-FULL-SCREENSHOT] üìê –ò—Å–ø–æ–ª—å–∑—É–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ä–∞–∑–º–µ—Ä viewport: 1280x960")
```

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞

### ‚úÖ **–ß—Ç–æ —É–ª—É—á—à–∏–ª–æ—Å—å:**

1. **–û–ø—Ç–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä**
   - ‚úÖ 1280x960 - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ 4:3
   - ‚úÖ –£–¥–æ–±–Ω–æ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞
   - ‚úÖ –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ —ç–∫—Ä–∞–Ω–æ–≤

2. **–ú–µ–Ω—å—à–∏–π —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞**
   - ‚úÖ –£–º–µ–Ω—å—à–µ–Ω –Ω–∞ 14% (—Å 43.3 KB –¥–æ 37.1 KB)
   - ‚úÖ –ë—ã—Å—Ç—Ä–µ–µ –∑–∞–≥—Ä—É–∑–∫–∞
   - ‚úÖ –ú–µ–Ω—å—à–µ –º–µ—Å—Ç–∞ –Ω–∞ –¥–∏—Å–∫–µ

3. **–õ—É—á—à–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**
   - ‚úÖ –ë—ã—Å—Ç—Ä–µ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞
   - ‚úÖ –ú–µ–Ω—å—à–µ –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ –±—Ä–∞—É–∑–µ—Ä
   - ‚úÖ –°—Ç–∞–±–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞

4. **–£–¥–æ–±—Å—Ç–≤–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è**
   - ‚úÖ –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ä–∞–∑–º–µ—Ä
   - ‚úÖ –õ–µ–≥–∫–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å
   - ‚úÖ –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤

## –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —É–ª—É—á—à–µ–Ω–∏–π

### üìä **–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:**

- ‚úÖ **–†–∞–∑–º–µ—Ä —Å–∫—Ä–∏–Ω—à–æ—Ç–∞**: 1280x960 (–æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π)
- ‚úÖ **–†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞**: 37.1 KB (—É–º–µ–Ω—å—à–µ–Ω –Ω–∞ 14%)
- ‚úÖ **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –£–ª—É—á—à–µ–Ω–∞
- ‚úÖ **–£–¥–æ–±—Å—Ç–≤–æ**: –ü–æ–≤—ã—à–µ–Ω–æ

### üéØ **–ö–ª—é—á–µ–≤—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:**

1. **Viewport**: 1280x960 (–≤–º–µ—Å—Ç–æ 1280x1920)
2. **Full page**: False (–≤–º–µ—Å—Ç–æ True)
3. **–ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞**: –£–±—Ä–∞–Ω–æ

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

### ‚úÖ **–ü—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞:**

- ‚úÖ **–†–∞–∑–º–µ—Ä —Å–∫—Ä–∏–Ω—à–æ—Ç–∞**: 1280x960 (–∫–∞–∫ –∑–∞–ø—Ä–æ—à–µ–Ω–æ)
- ‚úÖ **–†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞**: –£–º–µ–Ω—å—à–µ–Ω –Ω–∞ 14%
- ‚úÖ **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –£–ª—É—á—à–µ–Ω–∞
- ‚úÖ **–£–¥–æ–±—Å—Ç–≤–æ**: –ü–æ–≤—ã—à–µ–Ω–æ

### üéØ **–ò—Ç–æ–≥:**

**–¢–µ–ø–µ—Ä—å —Å–∫—Ä–∏–Ω—à–æ—Ç—ã —Å–æ–∑–¥–∞—é—Ç—Å—è —Å –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–º —Ä–∞–∑–º–µ—Ä–æ–º 1280x960, —á—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç:**
- ‚úÖ –õ—É—á—à–µ–µ –∫–∞—á–µ—Å—Ç–≤–æ
- ‚úÖ –ú–µ–Ω—å—à–∏–π —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞
- ‚úÖ –ë—ã—Å—Ç—Ä—É—é —Ä–∞–±–æ—Ç—É
- ‚úÖ –£–¥–æ–±—Å—Ç–≤–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

**–†–∞–∑–º–µ—Ä —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ —É—Å–ø–µ—à–Ω–æ –∏–∑–º–µ–Ω–µ–Ω –Ω–∞ 1280x960!** üéâ
