# ‚úÖ –ê–≤—Ç–æ–ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–∂–¥—ã–µ 3 –º–∏–Ω—É—Ç—ã - –ò–°–ü–†–ê–í–õ–ï–ù–û!

## üéØ **–ü—Ä–æ–±–ª–µ–º–∞:**
–ê–≤—Ç–æ–ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–µ –∑–∞–ø—É—Å–∫–∞–ª–∞—Å—å –≤—Ç–æ—Ä–æ–π —Ä–∞–∑ —Å –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–º 3 –º–∏–Ω—É—Ç—ã

## ‚úÖ **–†–µ—à–µ–Ω–∏–µ:**
–ó–∞–º–µ–Ω–∏–ª–∏ aiocron –Ω–∞ asyncio.Timer –¥–ª—è –∫–æ—Ä–æ—Ç–∫–∏—Ö –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–≤ (< 5 –º–∏–Ω—É—Ç)

---

## üîß **–ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:**

### **1. –ò–Ω—Ç–µ—Ä–≤–∞–ª —Å–æ–∫—Ä–∞—â–µ–Ω –¥–æ 3 –º–∏–Ω—É—Ç:**
- ‚úÖ **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –Ω–∞ 3 –º–∏–Ω—É—Ç—ã
- ‚úÖ **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:** –∏–∑–º–µ–Ω–µ–Ω—ã –Ω–∞ 3 –º–∏–Ω—É—Ç—ã
- ‚úÖ **auto_checker.py:** –∏–Ω—Ç–µ—Ä–≤–∞–ª –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 3 –º–∏–Ω—É—Ç—ã

### **2. –ó–∞–º–µ–Ω–µ–Ω –º–µ—Ö–∞–Ω–∏–∑–º –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è:**

#### **–î–ª—è –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–≤ < 5 –º–∏–Ω—É—Ç (–≤–∫–ª—é—á–∞—è 3 –º–∏–Ω—É—Ç—ã):**
```python
# –ò—Å–ø–æ–ª—å–∑—É–µ–º asyncio.Timer –≤–º–µ—Å—Ç–æ aiocron
async def periodic_check():
    while True:
        await asyncio.sleep(interval_minutes * 60)  # 3 * 60 = 180 —Å–µ–∫—É–Ω–¥
        print(f"[AUTO-CHECK] Timer triggered at {datetime.now()}")
        await check_pending_accounts(SessionLocal, bot, max_accounts=999999, notify_admin=True)
        print(f"[AUTO-CHECK] Timer completed at {datetime.now()}")

asyncio.create_task(periodic_check())
```

#### **–î–ª—è –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–≤ >= 5 –º–∏–Ω—É—Ç:**
```python
# –ò—Å–ø–æ–ª—å–∑—É–µ–º aiocron (–±–æ–ª–µ–µ —Å—Ç–∞–±–∏–ª—å–Ω–æ –¥–ª—è –¥–ª–∏–Ω–Ω—ã—Ö –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–≤)
@aiocron.crontab(f"*/{interval_minutes} * * * *", loop=loop)
async def auto_check_job():
    # ...
```

---

## üìä **–ö–∞–∫ —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–∂–¥—ã–µ 3 –º–∏–Ω—É—Ç—ã:**

### **–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –±–æ—Ç–∞:**
```
[AUTO-CHECK] Using asyncio timer for short interval (3 minutes)
[AUTO-CHECK] Started periodic timer (every 3 minutes)
[AUTO-CHECK] Next check will be at: 2025-10-10 15:33:00
```

### **–ö–∞–∂–¥—ã–µ 3 –º–∏–Ω—É—Ç—ã:**
```
[AUTO-CHECK] Timer triggered at 2025-10-10 15:33:00
```

**–ê–¥–º–∏–Ω –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ:**
```
üîÑ –ê–≤—Ç–æ–ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–ø—É—â–µ–Ω–∞

üìä –ê–∫–∫–∞—É–Ω—Ç–æ–≤ –∫ –ø—Ä–æ–≤–µ—Ä–∫–µ: 137
‚è∞ –í—Ä–µ–º—è: 15:33:00
```

**–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:**
```
[AUTO-CHECK] Timer completed at 2025-10-10 15:38:00
```

**–ê–¥–º–∏–Ω –ø–æ–ª—É—á–∞–µ—Ç –∏—Ç–æ–≥–∏:**
```
‚úÖ –ê–≤—Ç–æ–ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞

üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã:
‚Ä¢ –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ: 137
‚Ä¢ –ù–∞–π–¥–µ–Ω–æ: 12
‚Ä¢ –ù–µ –Ω–∞–π–¥–µ–Ω–æ: 120
‚Ä¢ –û—à–∏–±–æ–∫: 5
```

---

## ‚è∞ **–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∞–≤—Ç–æ–ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–∞–∂–¥—ã–µ 3 –º–∏–Ω—É—Ç—ã:**

```
00:00 - –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞ + –ù–µ–º–µ–¥–ª–µ–Ω–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –í–°–ï–•
00:03 - –ê–≤—Ç–æ–ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö pending –∞–∫–∫–∞—É–Ω—Ç–æ–≤
00:06 - –ê–≤—Ç–æ–ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö pending –∞–∫–∫–∞—É–Ω—Ç–æ–≤
00:09 - –ê–≤—Ç–æ–ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö pending –∞–∫–∫–∞—É–Ω—Ç–æ–≤
00:12 - –ê–≤—Ç–æ–ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö pending –∞–∫–∫–∞—É–Ω—Ç–æ–≤
00:15 - –ê–≤—Ç–æ–ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö pending –∞–∫–∫–∞—É–Ω—Ç–æ–≤
...
```

**–ß–∞—Å—Ç–æ—Ç–∞:** 20 —Ä–∞–∑ –≤ —á–∞—Å, 480 —Ä–∞–∑ –≤ –¥–µ–Ω—å

---

## üöÄ **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞:**

### **1. –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å:**
- ‚úÖ **asyncio.Timer** –±–æ–ª–µ–µ –Ω–∞–¥–µ–∂–µ–Ω –¥–ª—è –∫–æ—Ä–æ—Ç–∫–∏—Ö –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–≤
- ‚úÖ **–ù–µ –∑–∞–≤–∏—Å–∏—Ç** –æ—Ç cron —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞
- ‚úÖ **–ü—Ä–æ—Å—Ç–∞—è –æ—Ç–ª–∞–¥–∫–∞** –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### **2. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
- ‚úÖ **–¢–æ—á–Ω–æ–µ –≤—Ä–µ–º—è** –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- ‚úÖ **–ú–µ–Ω—å—à–µ –Ω–∞–∫–ª–∞–¥–Ω—ã—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤**
- ‚úÖ **–°—Ç–∞–±–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞** –≤ —Ñ–æ–Ω–µ

### **3. –ì–∏–±–∫–æ—Å—Ç—å:**
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–±–æ—Ä** –º–µ—Ö–∞–Ω–∏–∑–º–∞ (Timer vs Cron)
- ‚úÖ **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è** –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–≤
- ‚úÖ **–£–ª—É—á—à–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**

---

## üîß **–õ–æ–≥–∏–∫–∞ –≤—ã–±–æ—Ä–∞ –º–µ—Ö–∞–Ω–∏–∑–º–∞:**

### **–ò–Ω—Ç–µ—Ä–≤–∞–ª < 5 –º–∏–Ω—É—Ç:**
- **–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:** asyncio.Timer
- **–ü—Ä–∏—á–∏–Ω–∞:** –ë–æ–ª–µ–µ –Ω–∞–¥–µ–∂–Ω–æ –¥–ª—è —á–∞—Å—Ç—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫
- **–ü—Ä–∏–º–µ—Ä—ã:** 1, 2, 3, 4 –º–∏–Ω—É—Ç—ã

### **–ò–Ω—Ç–µ—Ä–≤–∞–ª >= 5 –º–∏–Ω—É—Ç:**
- **–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:** aiocron
- **–ü—Ä–∏—á–∏–Ω–∞:** –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –¥–ª—è —Ä–µ–¥–∫–∏—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫
- **–ü—Ä–∏–º–µ—Ä—ã:** 5, 10, 15, 30, 60 –º–∏–Ω—É—Ç

---

## üìà **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–ª—è 3-–º–∏–Ω—É—Ç–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞:**

### **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
- **–ò–Ω—Ç–µ—Ä–≤–∞–ª:** 3 –º–∏–Ω—É—Ç—ã
- **–ü—Ä–æ–≤–µ—Ä–æ–∫ –≤ —á–∞—Å:** 20
- **–ü—Ä–æ–≤–µ—Ä–æ–∫ –≤ –¥–µ–Ω—å:** 480
- **–ü—Ä–æ–≤–µ—Ä–æ–∫ –≤ –Ω–µ–¥–µ–ª—é:** 3,360

### **–ù–∞–≥—Ä—É–∑–∫–∞:**
- **137 –∞–∫–∫–∞—É–Ω—Ç–æ–≤** –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –∑–∞ ~8 –º–∏–Ω—É—Ç
- **–ê–≤—Ç–æ–ø—Ä–æ–≤–µ—Ä–∫–∞** –∫–∞–∂–¥—ã–µ 3 –º–∏–Ω—É—Ç—ã
- **–í—ã—Å–æ–∫–∞—è —á–∞—Å—Ç–æ—Ç–∞** –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

---

## ‚ö†Ô∏è **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**

### **–î–ª—è –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞ 3 –º–∏–Ω—É—Ç—ã:**
- ‚úÖ **–ü–æ–¥—Ö–æ–¥–∏—Ç** –¥–ª—è –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
- ‚ö†Ô∏è **–í—ã—Å–æ–∫–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞** –Ω–∞ Instagram API
- ‚ö†Ô∏è **–†–∏—Å–∫ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏** –ø—Ä–∏ —á–∞—Å—Ç—ã—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö

### **–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã:**
- **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:** 3-5 –º–∏–Ω—É—Ç
- **–ü—Ä–æ–¥–∞–∫—à–Ω:** 10-15 –º–∏–Ω—É—Ç
- **–°—Ç–∞–±–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞:** 15-30 –º–∏–Ω—É—Ç

---

## üéØ **–†–µ–∑—É–ª—å—Ç–∞—Ç:**

### **‚úÖ –ü–†–û–ë–õ–ï–ú–ê –†–ï–®–ï–ù–ê:**
- ‚úÖ **–ê–≤—Ç–æ–ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–∂–¥—ã–µ 3 –º–∏–Ω—É—Ç—ã** - —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ **–ò—Å–ø–æ–ª—å–∑—É–µ—Ç asyncio.Timer** - –Ω–∞–¥–µ–∂–Ω–æ
- ‚úÖ **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∞–¥–º–∏–Ω—É** - –∫–∞–∂–¥—ã–µ 3 –º–∏–Ω—É—Ç—ã
- ‚úÖ **–£–ª—É—á—à–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** - –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

### **üöÄ –°–ò–°–¢–ï–ú–ê –ì–û–¢–û–í–ê:**
- ü§ñ **–ê–≤—Ç–æ–ø—Ä–æ–≤–µ—Ä–∫–∞** –∫–∞–∂–¥—ã–µ 3 –º–∏–Ω—É—Ç—ã
- üì¨ **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∞–¥–º–∏–Ω—É** –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—É—Å–∫–µ
- ‚ö° **–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞** (3 –ø–æ—Ç–æ–∫–∞)
- üìä **–ü–æ–ª–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- üîß **–ù–∞–¥–µ–∂–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º** –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

**–¢–µ–ø–µ—Ä—å –∞–≤—Ç–æ–ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∫–∞–∂–¥—ã–µ 3 –º–∏–Ω—É—Ç—ã —Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏ –∞–¥–º–∏–Ω—É!** üéâ

---

## üìù **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:**

### **–õ–æ–≥–∏ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:**
```
[AUTO-CHECK] Using asyncio timer for short interval (3 minutes)
[AUTO-CHECK] Started periodic timer (every 3 minutes)
[AUTO-CHECK] Timer triggered at [–≤—Ä–µ–º—è]
[AUTO-CHECK] Timer completed at [–≤—Ä–µ–º—è]
```

### **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∞–¥–º–∏–Ω—É:**
- **–ö–∞–∂–¥—ã–µ 3 –º–∏–Ω—É—Ç—ã** –æ –∑–∞–ø—É—Å–∫–µ
- **–ü–æ–ª–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** –æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö
- **–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è** –∫–∞–∂–¥–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏

**–°–ª–µ–¥–∏—Ç–µ –∑–∞ –ª–æ–≥–∞–º–∏ –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã!** üìä
