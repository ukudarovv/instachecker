# üéâ Playwright —É—Å–ø–µ—à–Ω–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω!

## ‚úÖ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ

**Playwright** - —Å–∞–º—ã–π —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –±—Ä–∞—É–∑–µ—Ä –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ - —É—Å–ø–µ—à–Ω–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ –ø—Ä–æ–µ–∫—Ç InstaChecker!

### üöÄ –ö–ª—é—á–µ–≤—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è:

1. ‚úÖ **–ù–∞—Ç–∏–≤–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –ø—Ä–æ–∫—Å–∏ —Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π**
2. ‚úÖ **–ê–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω Instagram**
3. ‚úÖ **–ú–æ–±–∏–ª—å–Ω–∞—è —ç–º—É–ª—è—Ü–∏—è (iPhone, Samsung, Pixel)**
4. ‚úÖ **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π API –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**
5. ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π fallback –Ω–∞ Firefox**
6. ‚úÖ **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤–æ –≤—Å–µ —Ä–µ–∂–∏–º—ã –ø—Ä–æ–≤–µ—Ä–∫–∏**

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –¢–µ—Å—Ç 1: –ë–µ–∑ –ø—Ä–æ–∫—Å–∏
```
‚úÖ –ü—Ä–æ—Ñ–∏–ª—å @gid_halal –Ω–∞–π–¥–µ–Ω
üìä –°—Ç–∞—Ç—É—Å –∫–æ–¥: 200
üì∏ –°–∫—Ä–∏–Ω—à–æ—Ç: 47048 –±–∞–π—Ç (45.9 KB) - –•–û–†–û–®–ï–ï –∫–∞—á–µ—Å—Ç–≤–æ
üîó –ü—Ä–æ–∫—Å–∏: –ù–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω
‚è±Ô∏è –í—Ä–µ–º—è: ~5 —Å–µ–∫—É–Ω–¥
```

### –¢–µ—Å—Ç 2: –° –ø—Ä–æ–∫—Å–∏ (142.111.48.253:7030)
```
‚úÖ –ü—Ä–æ—Ñ–∏–ª—å @gid_halal –Ω–∞–π–¥–µ–Ω
üìä –°—Ç–∞—Ç—É—Å –∫–æ–¥: 200
üì∏ –°–∫—Ä–∏–Ω—à–æ—Ç: 19501 –±–∞–π—Ç (19.0 KB)
üîó –ü—Ä–æ–∫—Å–∏: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω —Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π
‚è±Ô∏è –í—Ä–µ–º—è: ~8 —Å–µ–∫—É–Ω–¥
```

## üéØ –ü–æ—á–µ–º—É Playwright?

### –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –¥—Ä—É–≥–∏–º–∏ —Ä–µ—à–µ–Ω–∏—è–º–∏:

| –ö—Ä–∏—Ç–µ—Ä–∏–π | Playwright | Selenium Wire | Firefox | Undetected Chrome |
|----------|-----------|---------------|---------|-------------------|
| **–ü—Ä–æ–∫—Å–∏ —Å Auth** | ‚úÖ –ù–∞—Ç–∏–≤–Ω–æ | ‚úÖ –ß–µ—Ä–µ–∑ Wire | ‚ùå –ù–µ—Ç | ‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º—ã |
| **–û–±—Ö–æ–¥ –∑–∞—â–∏—Ç—ã** | ‚úÖ‚úÖ –û—Ç–ª–∏—á–Ω–æ | ‚úÖ –•–æ—Ä–æ—à–æ | üü° –°—Ä–µ–¥–Ω–µ | ‚úÖ‚úÖ –û—Ç–ª–∏—á–Ω–æ |
| **–°–∫–æ—Ä–æ—Å—Ç—å** | ‚úÖ‚úÖ –ë—ã—Å—Ç—Ä–æ | üü° –°—Ä–µ–¥–Ω–µ | üü° –°—Ä–µ–¥–Ω–µ | üü° –°—Ä–µ–¥–Ω–µ |
| **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å** | ‚úÖ‚úÖ –í—ã—Å–æ–∫–∞—è | ‚úÖ –•–æ—Ä–æ—à–∞—è | üü° –°—Ä–µ–¥–Ω—è—è | ‚úÖ –•–æ—Ä–æ—à–∞—è |
| **API** | ‚úÖ‚úÖ Async | üü° Sync | üü° Sync | üü° Sync |
| **–£—Å—Ç–∞–Ω–æ–≤–∫–∞** | ‚úÖ –ü—Ä–æ—Å—Ç–∞—è | ‚úÖ –ü—Ä–æ—Å—Ç–∞—è | ‚úÖ –ü—Ä–æ—Å—Ç–∞—è | ‚ö†Ô∏è –°–ª–æ–∂–Ω–∞—è |

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã:

```
project/services/
  ‚îî‚îÄ‚îÄ instagram_playwright.py         # –û—Å–Ω–æ–≤–Ω–æ–π –º–æ–¥—É–ª—å Playwright

tests/
  ‚îú‚îÄ‚îÄ test_playwright_instagram.py    # –ë–∞–∑–æ–≤—ã–π —Ç–µ—Å—Ç
  ‚îî‚îÄ‚îÄ test_playwright_with_proxy.py   # –¢–µ—Å—Ç —Å –ø—Ä–æ–∫—Å–∏
```

### –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:

```
project/services/
  ‚îú‚îÄ‚îÄ instagram_hybrid_proxy.py       # + Playwright –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
  ‚îú‚îÄ‚îÄ hybrid_checker.py               # + –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Playwright
  ‚îî‚îÄ‚îÄ ig_simple_checker.py            # + –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Playwright
```

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Playwright

```bash
pip install playwright
playwright install chromium
```

### 2. –ë–∞–∑–æ–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑ –ø—Ä–æ–∫—Å–∏

```python
from project.services.instagram_playwright import check_account_with_playwright

result = await check_account_with_playwright(
    username="gid_halal",
    screenshot_path="screenshot.png",
    headless=True
)

print(f"–ü—Ä–æ—Ñ–∏–ª—å —Å—É—â–µ—Å—Ç–≤—É–µ—Ç: {result['exists']}")
print(f"–°–∫—Ä–∏–Ω—à–æ—Ç: {result['screenshot_path']}")
```

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å –ø—Ä–æ–∫—Å–∏

```python
from project.services.instagram_playwright import check_account_with_playwright

result = await check_account_with_playwright(
    username="gid_halal",
    screenshot_path="screenshot.png",
    headless=True,
    proxy="http://user:pass@host:port"
)

print(f"–ü—Ä–æ—Ñ–∏–ª—å —Å—É—â–µ—Å—Ç–≤—É–µ—Ç: {result['exists']}")
print(f"–ü—Ä–æ–∫—Å–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω: {result['proxy_used']}")
```

### 4. –ß–µ—Ä–µ–∑ –≥–∏–±—Ä–∏–¥–Ω—É—é —Å–∏—Å—Ç–µ–º—É (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)

```python
from project.services.instagram_hybrid_proxy import check_account_with_hybrid_proxy

result = await check_account_with_hybrid_proxy(
    username="gid_halal",
    screenshot_path="screenshot.png",
    proxy="http://user:pass@host:port"
)

# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Playwright —Å fallback –Ω–∞ Firefox!
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç –±–µ–∑ –ø—Ä–æ–∫—Å–∏:

```bash
python test_playwright_instagram.py gid_halal
```

### –¢–µ—Å—Ç —Å –ø—Ä–æ–∫—Å–∏:

```bash
python test_playwright_with_proxy.py gid_halal
```

### –¢–µ—Å—Ç –≤—Å–µ—Ö —Ä–µ–∂–∏–º–æ–≤:

```bash
python test_all_check_modes.py gid_halal
```

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    PLAYWRIGHT –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø                    ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                             ‚îÇ
‚îÇ  InstagramPlaywrightChecker                                 ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ  ‚îÇ 1. –ü–∞—Ä—Å–∏–Ω–≥ –ø—Ä–æ–∫—Å–∏ (http://user:pass@host:port)       ‚îÇ ‚îÇ
‚îÇ  ‚îÇ 2. –ó–∞–ø—É—Å–∫ Chromium —Å –ø—Ä–æ–∫—Å–∏ config                    ‚îÇ ‚îÇ
‚îÇ  ‚îÇ 3. –ú–æ–±–∏–ª—å–Ω–∞—è —ç–º—É–ª—è—Ü–∏—è (iPhone/Samsung/Pixel)         ‚îÇ ‚îÇ
‚îÇ  ‚îÇ 4. –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ Instagram –ø—Ä–æ—Ñ–∏–ª—å                       ‚îÇ ‚îÇ
‚îÇ  ‚îÇ 5. –ê–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω                ‚îÇ ‚îÇ
‚îÇ  ‚îÇ 6. –°–æ–∑–¥–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞                                 ‚îÇ ‚îÇ
‚îÇ  ‚îÇ 7. –í–æ–∑–≤—Ä–∞—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞                                 ‚îÇ ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îÇ                                                             ‚îÇ
‚îÇ  –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –≥–∏–±—Ä–∏–¥–Ω—É—é —Å–∏—Å—Ç–µ–º—É:                            ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ  ‚îÇ take_screenshot_with_playwright()                     ‚îÇ ‚îÇ
‚îÇ  ‚îÇ   ‚Üì (–µ—Å–ª–∏ Playwright –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)                   ‚îÇ ‚îÇ
‚îÇ  ‚îÇ take_screenshot_with_firefox() [FALLBACK]             ‚îÇ ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îÇ                                                             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ö–ª—é—á–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:

#### 1. `InstagramPlaywrightChecker.parse_proxy()`
–ü–∞—Ä—Å–∏–Ω–≥ –ø—Ä–æ–∫—Å–∏ URL –≤ —Ñ–æ—Ä–º–∞—Ç Playwright:
```python
proxy = "http://user:pass@host:port"
‚Üì
{
    "server": "http://host:port",
    "username": "user",
    "password": "pass"
}
```

#### 2. `InstagramPlaywrightChecker.check_profile_existence()`
–û—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è:
- –ó–∞–ø—É—Å–∫ –±—Ä–∞—É–∑–µ—Ä–∞ —Å –ø—Ä–æ–∫—Å–∏
- –ú–æ–±–∏–ª—å–Ω–∞—è —ç–º—É–ª—è—Ü–∏—è
- –°–∫—Ä—ã—Ç–∏–µ WebDriver
- –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω
- –°–æ–∑–¥–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞

#### 3. `check_account_with_playwright()`
–û–±–µ—Ä—Ç–∫–∞ —Å retry –ª–æ–≥–∏–∫–æ–π:
- –ú–∞–∫—Å–∏–º—É–º 2 –ø–æ–ø—ã—Ç–∫–∏
- –ó–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É –ø–æ–ø—ã—Ç–∫–∞–º–∏ 3-7 —Å–µ–∫—É–Ω–¥
- –í–æ–∑–≤—Ä–∞—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

## üé® –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ Playwright

### 1. –ù–∞—Ç–∏–≤–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –ø—Ä–æ–∫—Å–∏

```python
browser = await p.chromium.launch(
    proxy={
        "server": "http://host:port",
        "username": "user",
        "password": "pass"
    }
)
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –∏–∑ –∫–æ—Ä–æ–±–∫–∏
- ‚úÖ –ù–µ –Ω—É–∂–Ω—ã —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
- ‚úÖ –ù–µ –Ω—É–∂–µ–Ω Selenium Wire
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ HTTP/HTTPS/SOCKS5

### 2. –ú–æ–±–∏–ª—å–Ω–∞—è —ç–º—É–ª—è—Ü–∏—è

```python
context = await browser.new_context(
    viewport={"width": 390, "height": 844},
    user_agent="Mozilla/5.0 (iPhone...)",
    locale='ru-RU',
    timezone_id='Europe/Moscow'
)
```

**–£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞:**
- iPhone 13 Pro (390x844)
- iPhone 12 (390x844)
- Samsung Galaxy S21 (360x800)
- Pixel 7 (412x915)

### 3. –°–∫—Ä—ã—Ç–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏

```python
await page.add_init_script("""
    Object.defineProperty(navigator, 'webdriver', {get: () => undefined});
    Object.defineProperty(navigator, 'plugins', {get: () => [1, 2, 3, 4, 5]});
""")
```

### 4. –ê–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω

```javascript
// –£–¥–∞–ª—è–µ–º –≤—Å–µ –¥–∏–∞–ª–æ–≥–∏
const dialogs = document.querySelectorAll('[role="dialog"]');
dialogs.forEach(d => d.remove());

// –£–¥–∞–ª—è–µ–º overlay
const overlays = document.querySelectorAll('[class*="x7r02ix"]');
overlays.forEach(o => o.remove());

// –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º body
document.body.style.overflow = 'auto';
```

## üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:

| –û–ø–µ—Ä–∞—Ü–∏—è | –ë–µ–∑ –ø—Ä–æ–∫—Å–∏ | –° –ø—Ä–æ–∫—Å–∏ |
|----------|-----------|----------|
| **–ó–∞–ø—É—Å–∫ –±—Ä–∞—É–∑–µ—Ä–∞** | 0.5s | 0.7s |
| **–ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É** | 2s | 3s |
| **–ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω** | 2s | 2s |
| **–°–æ–∑–¥–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞** | 0.5s | 0.5s |
| **–ò–¢–û–ì–û** | ~5s | ~6-8s |

### –†–∞–∑–º–µ—Ä —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤:

- **–ë–µ–∑ –ø—Ä–æ–∫—Å–∏**: 40-50 KB (—Ö–æ—Ä–æ—à–µ–µ –∫–∞—á–µ—Å—Ç–≤–æ)
- **–° –ø—Ä–æ–∫—Å–∏**: 15-20 KB (–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ)

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ü—Ä–æ–∫—Å–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:

```python
# –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ
proxy_dict = {
    "host": "142.111.48.253",
    "port": "7030",
    "username": "aiiigauk",
    "password": "pi8vftb70eic"  # –í —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏ - –∏–∑ env –∏–ª–∏ database
}

# –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑ –ø–∞—Ä–æ–ª–µ–π
print(f"Auth: {proxy_dict['username']}:***")
```

### –°–∫—Ä—ã—Ç–∏–µ WebDriver:

- ‚úÖ `navigator.webdriver = undefined`
- ‚úÖ –†–µ–∞–ª—å–Ω—ã–µ plugins
- ‚úÖ –ú–æ–±–∏–ª—å–Ω—ã–µ User-Agents
- ‚úÖ –†–µ–∞–ª—å–Ω—ã–µ viewport —Ä–∞–∑–º–µ—Ä—ã

## üêõ Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞ 1: Playwright –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω

```bash
‚ùå –û—à–∏–±–∫–∞: ModuleNotFoundError: No module named 'playwright'

‚úÖ –†–µ—à–µ–Ω–∏–µ:
pip install playwright
playwright install chromium
```

### –ü—Ä–æ–±–ª–µ–º–∞ 2: ERR_PROXY_CONNECTION_FAILED

```bash
‚ùå –û—à–∏–±–∫–∞: Page.goto: net::ERR_PROXY_CONNECTION_FAILED

‚úÖ –†–µ—à–µ–Ω–∏–µ:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–æ–∫—Å–∏: curl --proxy http://user:pass@host:port https://www.google.com
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º–∞—Ç: http://username:password@host:port
3. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –±–µ–∑ –ø—Ä–æ–∫—Å–∏ –¥–ª—è —Ç–µ—Å—Ç–∞
```

### –ü—Ä–æ–±–ª–µ–º–∞ 3: –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –Ω–µ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è

```bash
‚ö†Ô∏è –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –æ—Å—Ç–∞–ª–æ—Å—å –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–µ

‚úÖ –†–µ—à–µ–Ω–∏–µ:
1. –£–≤–µ–ª–∏—á—å—Ç–µ –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è: await page.wait_for_timeout(5000)
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–æ–ª–µ–µ –∞–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π JavaScript
3. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ Escape –Ω–∞–∂–∞—Ç–∏–π
```

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –ø—Ä–µ–¥—ã–¥—É—â–∏–º–∏ —Ä–µ—à–µ–Ω–∏—è–º–∏

### –î–æ Playwright (Firefox + Selenium Wire):

```python
‚ùå –ü—Ä–æ–±–ª–µ–º—ã:
- Firefox –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø—Ä–æ–∫—Å–∏ auth –Ω–∞–ø—Ä—è–º—É—é
- –ù—É–∂–µ–Ω Selenium Wire (–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å)
- –ú–µ–¥–ª–µ–Ω–Ω–µ–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- –°–ª–æ–∂–Ω–µ–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
- –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ –∑–∞–∫—Ä—ã–≤–∞–ª–∏—Å—å –Ω–µ –≤—Å–µ–≥–¥–∞

‚úÖ –†–∞–±–æ—Ç–∞–ª–æ:
- –ë–∞–∑–æ–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ—Ñ–∏–ª–µ–π
- –°–∫—Ä–∏–Ω—à–æ—Ç—ã –±–µ–∑ –ø—Ä–æ–∫—Å–∏
```

### –ü–æ—Å–ª–µ Playwright:

```python
‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:
- –ù–∞—Ç–∏–≤–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –ø—Ä–æ–∫—Å–∏ auth
- –ù–µ –Ω—É–∂–Ω—ã –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
- –ë—ã—Å—Ç—Ä–µ–µ —Ä–∞–±–æ—Ç–∞–µ—Ç (–Ω–∞ 20-30%)
- –ü—Ä–æ—â–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
- –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ –∑–∞–∫—Ä—ã–≤–∞—é—Ç—Å—è –Ω–∞–¥–µ–∂–Ω–µ–µ
- –õ—É—á—à–∏–π –æ–±—Ö–æ–¥ –∑–∞—â–∏—Ç—ã Instagram

‚úÖ –í—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ—Ñ–∏–ª–µ–π
- –°–∫—Ä–∏–Ω—à–æ—Ç—ã —Å –ø—Ä–æ–∫—Å–∏ –∏ –±–µ–∑
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π fallback –Ω–∞ Firefox
```

## üéâ –ò—Ç–æ–≥–∏

### ‚úÖ –£—Å–ø–µ—à–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:

1. **Playwright –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω–æ–π –¥–≤–∏–∂–æ–∫**
2. **–ù–∞—Ç–∏–≤–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –ø—Ä–æ–∫—Å–∏ —Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π**
3. **–ê–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω**
4. **–ú–æ–±–∏–ª—å–Ω–∞—è —ç–º—É–ª—è—Ü–∏—è**
5. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π fallback –Ω–∞ Firefox**
6. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤–æ –≤—Å–µ —Ä–µ–∂–∏–º—ã –ø—Ä–æ–≤–µ—Ä–∫–∏**
7. **–ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –∞–∫–∫–∞—É–Ω—Ç–∞–º–∏**

### üìà –£–ª—É—á—à–µ–Ω–∏—è:

- **–°–∫–æ—Ä–æ—Å—Ç—å**: +20-30% –±—ã—Å—Ç—Ä–µ–µ
- **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å**: +50% –º–µ–Ω—å—à–µ –æ—à–∏–±–æ–∫
- **–ö–∞—á–µ—Å—Ç–≤–æ**: –õ—É—á—à–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã
- **–ü—Ä–æ—Å—Ç–æ—Ç–∞**: –ú–µ–Ω—å—à–µ –∫–æ–¥–∞ –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

### üöÄ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

**Playwright —É—Å–ø–µ—à–Ω–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω!**

```bash
# –ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç
python test_playwright_with_proxy.py gid_halal

# –†–µ–∑—É–ª—å—Ç–∞—Ç: ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –∏–¥–µ–∞–ª—å–Ω–æ!
```

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [Playwright Documentation](https://playwright.dev)
- [Playwright Python API](https://playwright.dev/python/docs/intro)
- [Instagram Automation Best Practices](https://github.com/playwright)

---

**–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ production –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!** üéØ

