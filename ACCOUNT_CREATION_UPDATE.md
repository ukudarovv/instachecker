# ÐžÐ±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ Ð»Ð¾Ð³Ð¸ÐºÐ¸ Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸Ñ Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚Ð¾Ð²

## Ð˜Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ

### 1. **ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ Ð¿ÐµÑ€Ð¸Ð¾Ð´ 30 Ð´Ð½ÐµÐ¹**
- âœ… Ð£Ð±Ñ€Ð°Ð½Ð¾ Ð¿Ð¾Ð»Ðµ Ð²Ð²Ð¾Ð´Ð° ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð° Ð´Ð½ÐµÐ¹
- âœ… ÐŸÐ¾ ÑƒÐ¼Ð¾Ð»Ñ‡Ð°Ð½Ð¸ÑŽ ÑƒÑÑ‚Ð°Ð½Ð°Ð²Ð»Ð¸Ð²Ð°ÐµÑ‚ÑÑ 30 Ð´Ð½ÐµÐ¹
- âœ… Ð£Ð¿Ñ€Ð¾Ñ‰ÐµÐ½ Ð¿Ñ€Ð¾Ñ†ÐµÑÑ Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸Ñ Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚Ð°

### 2. **ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ Ð¾Ð± Ð¸ÑÑ‚ÐµÑ‡ÐµÐ½Ð¸Ð¸ ÑÑ€Ð¾ÐºÐ°**
- âœ… Ð£Ð²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ Ð·Ð° 3 Ð´Ð½Ñ Ð´Ð¾ Ð¸ÑÑ‚ÐµÑ‡ÐµÐ½Ð¸Ñ
- âœ… Ð£Ð²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ Ð¿Ñ€Ð¸ Ð¸ÑÑ‚ÐµÑ‡ÐµÐ½Ð¸Ð¸ ÑÑ€Ð¾ÐºÐ°
- âœ… ÐŸÑ€ÐµÐ´Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ ÑƒÐ²ÐµÐ»Ð¸Ñ‡Ð¸Ñ‚ÑŒ Ð¿ÐµÑ€Ð¸Ð¾Ð´ Ð¸Ð»Ð¸ ÑƒÐ´Ð°Ð»Ð¸Ñ‚ÑŒ Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚

## Ð”ÐµÑ‚Ð°Ð»Ð¸ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ð¹

### Ð¤ÑƒÐ½ÐºÑ†Ð¸Ñ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ñ Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚Ð° (`project/services/accounts.py`)

#### Ð‘Ñ‹Ð»Ð¾:
```python
def create_account(session: Session, user_id: int, username: str, days: int) -> Account:
```

#### Ð¡Ñ‚Ð°Ð»Ð¾:
```python
def create_account(session: Session, user_id: int, username: str, days: int = 30) -> Account:
```

**Ð˜Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ:**
- Ð”Ð¾Ð±Ð°Ð²Ð»ÐµÐ½ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€ Ð¿Ð¾ ÑƒÐ¼Ð¾Ð»Ñ‡Ð°Ð½Ð¸ÑŽ `days: int = 30`
- Ð•ÑÐ»Ð¸ Ð´Ð½Ð¸ Ð½Ðµ ÑƒÐºÐ°Ð·Ð°Ð½Ñ‹, Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ 30 Ð´Ð½ÐµÐ¹

### ÐÐ¾Ð²Ñ‹Ðµ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ Ð´Ð»Ñ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ð¹ (`project/services/accounts.py`)

#### 1. ÐŸÐ¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ðµ Ð¸ÑÑ‚ÐµÐºÑˆÐ¸Ñ… Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚Ð¾Ð²
```python
def get_expired_accounts(session: Session) -> List[Account]:
    """Get accounts that have expired (to_date < today) and are not done."""
    return (
        session.query(Account)
        .filter(
            Account.done == False,
            Account.to_date < today_date
        )
        .order_by(Account.to_date.asc())
        .all()
    )
```

#### 2. ÐŸÐ¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ðµ Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚Ð¾Ð², Ð¸ÑÑ‚ÐµÐºÐ°ÑŽÑ‰Ð¸Ñ… ÑÐºÐ¾Ñ€Ð¾
```python
def get_accounts_expiring_soon(session: Session, days_ahead: int = 3) -> List[Account]:
    """Get accounts that will expire in the next N days."""
    return (
        session.query(Account)
        .filter(
            Account.done == False,
            Account.to_date >= today_date,
            Account.to_date <= future_date
        )
        .order_by(Account.to_date.asc())
        .all()
    )
```

### ÐÐ¾Ð²Ñ‹Ð¹ ÑÐµÑ€Ð²Ð¸Ñ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ð¹ (`project/services/expiry_notifications.py`)

#### Ð¤ÑƒÐ½ÐºÑ†Ð¸Ð¸ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ð¹:
1. **`check_and_send_expiry_notifications()`** - Ð¾ÑÐ½Ð¾Ð²Ð½Ð°Ñ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ñ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¸
2. **`send_expired_notification()`** - ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ðµ Ð¾Ð± Ð¸ÑÑ‚ÐµÐºÑˆÐ¸Ñ… Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚Ð°Ñ…
3. **`send_expiring_soon_notification()`** - ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ðµ Ð¾ ÑÐºÐ¾Ñ€Ð¾Ð¼ Ð¸ÑÑ‚ÐµÑ‡ÐµÐ½Ð¸Ð¸
4. **`start_expiry_checker()`** - Ð·Ð°Ð¿ÑƒÑÐº Ð¿ÐµÑ€Ð¸Ð¾Ð´Ð¸Ñ‡ÐµÑÐºÐ¾Ð¹ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¸

#### ÐŸÑ€Ð¸Ð¼ÐµÑ€ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ Ð¾Ð± Ð¸ÑÑ‚ÐµÑ‡ÐµÐ½Ð¸Ð¸:
```
âš ï¸ Ð’ÐÐ˜ÐœÐÐÐ˜Ð•: Ð˜ÑÑ‚ÐµÐº ÑÑ€Ð¾Ðº Ð¼Ð¾Ð½Ð¸Ñ‚Ð¾Ñ€Ð¸Ð½Ð³Ð°!

ðŸ“… Ð¡Ð»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ðµ Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚Ñ‹ Ð´Ð¾ÑÑ‚Ð¸Ð³Ð»Ð¸ ÐºÐ¾Ð½Ñ†Ð° Ð¿ÐµÑ€Ð¸Ð¾Ð´Ð° Ð¼Ð¾Ð½Ð¸Ñ‚Ð¾Ñ€Ð¸Ð½Ð³Ð°:
â€¢ @username1 (Ð¿Ñ€Ð¾ÑÑ€Ð¾Ñ‡ÐµÐ½ Ð½Ð° 5 Ð´Ð½.)
â€¢ @username2 (Ð¿Ñ€Ð¾ÑÑ€Ð¾Ñ‡ÐµÐ½ Ð½Ð° 2 Ð´Ð½.)

ðŸ”„ Ð§Ñ‚Ð¾ Ð´ÐµÐ»Ð°Ñ‚ÑŒ:
1ï¸âƒ£ Ð£Ð²ÐµÐ»Ð¸Ñ‡Ð¸Ñ‚ÑŒ Ð¿ÐµÑ€Ð¸Ð¾Ð´ Ð¼Ð¾Ð½Ð¸Ñ‚Ð¾Ñ€Ð¸Ð½Ð³Ð°
2ï¸âƒ£ Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚ Ð¸Ð· ÑÐ¿Ð¸ÑÐºÐ°

ðŸ“± Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ ÐºÐ½Ð¾Ð¿ÐºÑƒ 'ÐÐºÑ‚Ð¸Ð²Ð½Ñ‹Ðµ Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚Ñ‹' Ð´Ð»Ñ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ
```

#### ÐŸÑ€Ð¸Ð¼ÐµÑ€ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ Ð¾ ÑÐºÐ¾Ñ€Ð¾Ð¼ Ð¸ÑÑ‚ÐµÑ‡ÐµÐ½Ð¸Ð¸:
```
â° ÐÐ°Ð¿Ð¾Ð¼Ð¸Ð½Ð°Ð½Ð¸Ðµ: ÑÐºÐ¾Ñ€Ð¾ Ð¸ÑÑ‚ÐµÑ‡ÐµÑ‚ ÑÑ€Ð¾Ðº Ð¼Ð¾Ð½Ð¸Ñ‚Ð¾Ñ€Ð¸Ð½Ð³Ð°

ðŸ“… Ð¡Ð»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ðµ Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚Ñ‹ ÑÐºÐ¾Ñ€Ð¾ Ð´Ð¾ÑÑ‚Ð¸Ð³Ð½ÑƒÑ‚ ÐºÐ¾Ð½Ñ†Ð° Ð¿ÐµÑ€Ð¸Ð¾Ð´Ð°:
â€¢ @username1 (Ð¾ÑÑ‚Ð°Ð»Ð¾ÑÑŒ 2 Ð´Ð½.)
â€¢ @username2 (Ð¾ÑÑ‚Ð°Ð»Ð¾ÑÑŒ 1 Ð´Ð½.)

ðŸ’¡ Ð ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸Ñ: Ð£Ð²ÐµÐ»Ð¸Ñ‡ÑŒÑ‚Ðµ Ð¿ÐµÑ€Ð¸Ð¾Ð´ Ð¼Ð¾Ð½Ð¸Ñ‚Ð¾Ñ€Ð¸Ð½Ð³Ð° Ð·Ð°Ñ€Ð°Ð½ÐµÐµ

ðŸ“± Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ ÐºÐ½Ð¾Ð¿ÐºÑƒ 'ÐÐºÑ‚Ð¸Ð²Ð½Ñ‹Ðµ Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚Ñ‹' Ð´Ð»Ñ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ
```

### ÐžÐ±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚Ñ‡Ð¸ÐºÐ° Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸Ñ (`project/handlers/accounts_add.py`)

#### Ð‘Ñ‹Ð»Ð¾:
```
ðŸ†” Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Instagram username (Ð¼Ð¾Ð¶Ð½Ð¾ Ñ @):
```

#### Ð¡Ñ‚Ð°Ð»Ð¾:
```
ðŸ†” Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Instagram username (Ð¼Ð¾Ð¶Ð½Ð¾ Ñ @):

ðŸ“… ÐŸÐµÑ€Ð¸Ð¾Ð´ Ð¼Ð¾Ð½Ð¸Ñ‚Ð¾Ñ€Ð¸Ð½Ð³Ð°: 30 Ð´Ð½ÐµÐ¹ (Ð¿Ð¾ ÑƒÐ¼Ð¾Ð»Ñ‡Ð°Ð½Ð¸ÑŽ)
â„¹ï¸ ÐŸÐ¾ÑÐ»Ðµ Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸Ñ Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚ Ð±ÑƒÐ´ÐµÑ‚ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÑÑ‚ÑŒÑÑ
```

### Ð˜Ð½Ñ‚ÐµÐ³Ñ€Ð°Ñ†Ð¸Ñ Ð² Ð°Ð²Ñ‚Ð¾Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÑƒ (`project/cron/auto_checker.py`)

#### Ð”Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¾ Ð² Ð½Ð°Ñ‡Ð°Ð»Ð¾ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¸:
```python
# First, check for expired accounts and send notifications
if bot:
    try:
        await check_and_send_expiry_notifications(SessionLocal, bot)
    except Exception as e:
        print(f"[AUTO-CHECK] Failed to check expiry notifications: {e}")
```

## Ð›Ð¾Ð³Ð¸ÐºÐ° Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹

### 1. Ð”Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚Ð°
```
ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ: "Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚"
Ð‘Ð¾Ñ‚: "Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Instagram username"
ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ: "username"
Ð‘Ð¾Ñ‚: "ÐÐºÐºÐ°ÑƒÐ½Ñ‚ Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½ Ð½Ð° 30 Ð´Ð½ÐµÐ¹"
```

### 2. ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ
```
Ð—Ð° 3 Ð´Ð½Ñ Ð´Ð¾ Ð¸ÑÑ‚ÐµÑ‡ÐµÐ½Ð¸Ñ:
Ð‘Ð¾Ñ‚: "â° ÐÐ°Ð¿Ð¾Ð¼Ð¸Ð½Ð°Ð½Ð¸Ðµ: ÑÐºÐ¾Ñ€Ð¾ Ð¸ÑÑ‚ÐµÑ‡ÐµÑ‚ ÑÑ€Ð¾Ðº Ð¼Ð¾Ð½Ð¸Ñ‚Ð¾Ñ€Ð¸Ð½Ð³Ð°"

Ð’ Ð´ÐµÐ½ÑŒ Ð¸ÑÑ‚ÐµÑ‡ÐµÐ½Ð¸Ñ Ð¸ Ð¿Ð¾ÑÐ»Ðµ:
Ð‘Ð¾Ñ‚: "âš ï¸ Ð’ÐÐ˜ÐœÐÐÐ˜Ð•: Ð˜ÑÑ‚ÐµÐº ÑÑ€Ð¾Ðº Ð¼Ð¾Ð½Ð¸Ñ‚Ð¾Ñ€Ð¸Ð½Ð³Ð°!"
```

### 3. Ð£Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚Ð°Ð¼Ð¸
ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ Ð¼Ð¾Ð¶ÐµÑ‚:
- âœ… Ð£Ð²ÐµÐ»Ð¸Ñ‡Ð¸Ñ‚ÑŒ Ð¿ÐµÑ€Ð¸Ð¾Ð´ Ð¼Ð¾Ð½Ð¸Ñ‚Ð¾Ñ€Ð¸Ð½Ð³Ð°
- âœ… Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚
- âœ… ÐŸÑ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ Ð²ÑÐµ Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚Ñ‹

## ÐŸÑ€ÐµÐ¸Ð¼ÑƒÑ‰ÐµÑÑ‚Ð²Ð° Ð½Ð¾Ð²Ð¾Ð¹ Ð»Ð¾Ð³Ð¸ÐºÐ¸

### âœ… Ð£Ð¿Ñ€Ð¾Ñ‰ÐµÐ½Ð¸Ðµ Ð¿Ñ€Ð¾Ñ†ÐµÑÑÐ°
- ÐœÐµÐ½ÑŒÑˆÐµ Ð¿Ð¾Ð»ÐµÐ¹ Ð´Ð»Ñ Ð·Ð°Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ñ
- Ð‘Ñ‹ÑÑ‚Ñ€Ð¾Ðµ Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚Ð¾Ð²
- Ð¡Ñ‚Ð°Ð½Ð´Ð°Ñ€Ñ‚Ð½Ñ‹Ð¹ Ð¿ÐµÑ€Ð¸Ð¾Ð´ 30 Ð´Ð½ÐµÐ¹

### âœ… ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ
- ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ð¸ Ð½Ðµ Ð·Ð°Ð±Ñ‹Ð²Ð°ÑŽÑ‚ Ð¿Ñ€Ð¾Ð´Ð»ÐµÐ²Ð°Ñ‚ÑŒ
- Ð—Ð°Ð±Ð»Ð°Ð³Ð¾Ð²Ñ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ðµ Ð½Ð°Ð¿Ð¾Ð¼Ð¸Ð½Ð°Ð½Ð¸Ñ
- Ð§ÐµÑ‚ÐºÐ¸Ðµ Ð¸Ð½ÑÑ‚Ñ€ÑƒÐºÑ†Ð¸Ð¸ Ð¿Ð¾ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸ÑÐ¼

### âœ… Ð›ÑƒÑ‡ÑˆÐµÐµ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ
- Ð¦ÐµÐ½Ñ‚Ñ€Ð°Ð»Ð¸Ð·Ð¾Ð²Ð°Ð½Ð½Ð°Ñ Ð»Ð¾Ð³Ð¸ÐºÐ° Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¸
- Ð˜Ð½Ñ‚ÐµÐ³Ñ€Ð°Ñ†Ð¸Ñ Ñ Ð°Ð²Ñ‚Ð¾Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¾Ð¹
- ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ°Ñ Ð¾Ñ‡Ð¸ÑÑ‚ÐºÐ° Ð¸ÑÑ‚ÐµÐºÑˆÐ¸Ñ… Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚Ð¾Ð²

## ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸

### Ð˜Ð½Ñ‚ÐµÑ€Ð²Ð°Ð» Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¸ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ð¹
ÐŸÐ¾ ÑƒÐ¼Ð¾Ð»Ñ‡Ð°Ð½Ð¸ÑŽ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð¿Ñ€Ð¾Ð¸ÑÑ…Ð¾Ð´Ð¸Ñ‚ ÐºÐ°Ð¶Ð´Ñ‹Ðµ 24 Ñ‡Ð°ÑÐ°, Ð½Ð¾ Ð¼Ð¾Ð¶Ð½Ð¾ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ÑŒ:

```python
# Ð’ main() Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸
start_expiry_checker(SessionLocal, bot, interval_hours=12)  # ÐšÐ°Ð¶Ð´Ñ‹Ðµ 12 Ñ‡Ð°ÑÐ¾Ð²
```

### Ð”Ð½Ð¸ Ð¿Ñ€ÐµÐ´ÑƒÐ¿Ñ€ÐµÐ¶Ð´ÐµÐ½Ð¸Ñ
ÐŸÐ¾ ÑƒÐ¼Ð¾Ð»Ñ‡Ð°Ð½Ð¸ÑŽ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ Ð¿Ñ€Ð¸Ñ…Ð¾Ð´ÑÑ‚ Ð·Ð° 3 Ð´Ð½Ñ, Ð½Ð¾ Ð¼Ð¾Ð¶Ð½Ð¾ Ð¸Ð·Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ:

```python
# Ð’ get_accounts_expiring_soon()
get_accounts_expiring_soon(session, days_ahead=5)  # Ð—Ð° 5 Ð´Ð½ÐµÐ¹
```

## Ð¢ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ

### Ð¢ÐµÑÑ‚ 1: Ð”Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚Ð°
1. ÐÐ°Ð¶Ð¼Ð¸Ñ‚Ðµ "Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚"
2. Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ username
3. ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ, Ñ‡Ñ‚Ð¾ Ð¿ÐµÑ€Ð¸Ð¾Ð´ = 30 Ð´Ð½ÐµÐ¹

### Ð¢ÐµÑÑ‚ 2: Ð£Ð²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ
1. Ð¡Ð¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚ Ñ Ð¿ÐµÑ€Ð¸Ð¾Ð´Ð¾Ð¼ 1 Ð´ÐµÐ½ÑŒ
2. ÐŸÐ¾Ð´Ð¾Ð¶Ð´Ð¸Ñ‚Ðµ Ð¸ÑÑ‚ÐµÑ‡ÐµÐ½Ð¸Ñ ÑÑ€Ð¾ÐºÐ°
3. ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ðµ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ

### Ð¢ÐµÑÑ‚ 3: ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ°Ñ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ°
1. ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ Ð»Ð¾Ð³Ð¸ Ð½Ð° Ð½Ð°Ð»Ð¸Ñ‡Ð¸Ðµ:
```
[EXPIRY-CHECK] Checking for expired accounts...
[EXPIRY-CHECK] Found X expired accounts
[EXPIRY-CHECK] âœ… Sent expired notification to user X
```

## ÐœÐ¸Ð³Ñ€Ð°Ñ†Ð¸Ñ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÑŽÑ‰Ð¸Ñ… Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚Ð¾Ð²

Ð¡ÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÑŽÑ‰Ð¸Ðµ Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚Ñ‹ Ð½Ðµ Ð·Ð°Ñ‚Ñ€Ð¾Ð½ÑƒÑ‚Ñ‹:
- âœ… Ð¢ÐµÐºÑƒÑ‰Ð¸Ðµ Ð¿ÐµÑ€Ð¸Ð¾Ð´Ñ‹ ÑÐ¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ñ‹
- âœ… Ð”Ð°Ñ‚Ð° Ð¾ÐºÐ¾Ð½Ñ‡Ð°Ð½Ð¸Ñ Ð½Ðµ Ð¸Ð·Ð¼ÐµÐ½Ð¸Ð»Ð°ÑÑŒ
- âœ… Ð£Ð²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ Ð±ÑƒÐ´ÑƒÑ‚ Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ñ‚ÑŒ Ð´Ð»Ñ Ð²ÑÐµÑ… Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚Ð¾Ð²

## ÐœÐ¾Ð½Ð¸Ñ‚Ð¾Ñ€Ð¸Ð½Ð³

### Ð›Ð¾Ð³Ð¸ Ð´Ð»Ñ Ð¾Ñ‚ÑÐ»ÐµÐ¶Ð¸Ð²Ð°Ð½Ð¸Ñ:
```bash
grep "EXPIRY-CHECK" /var/log/instagram-bot.log
grep "expired accounts" /var/log/instagram-bot.log
grep "expiring soon" /var/log/instagram-bot.log
```

### Ð¡Ñ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ°:
- ÐšÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ Ð¸ÑÑ‚ÐµÐºÑˆÐ¸Ñ… Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚Ð¾Ð²
- ÐšÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð½Ñ‹Ñ… ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ð¹
- ÐžÑˆÐ¸Ð±ÐºÐ¸ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÐºÐ¸ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ð¹
