# Обновление обрезки скриншотов

## Изменение

Увеличена обрезка скриншотов для более фокусированного вида профиля Instagram.

### Было:
- **Ширина**: 60% (убираем по 20% с каждой стороны)
- **Высота**: 35% (верхняя часть)

### Стало:
- **Ширина**: 40% (убираем 20% слева, 40% справа)
- **Высота**: 35% (верхняя часть) - без изменений

## Детали изменений

### Функция `crop_to_upper_half()` в `project/services/ig_simple_checker.py`

```python
# Старые значения
left_crop = int(width * 0.20)  # Remove 20% from left
right_crop = int(width * 0.20)  # Remove 20% from right
# Результат: 60% ширины

# Новые значения
left_crop = int(width * 0.20)  # Remove 20% from left
right_crop = int(width * 0.40)  # Remove 40% from right
# Результат: 40% ширины
```

## Визуальное представление

```
Полный скриншот Instagram профиля:
┌─────────────────────────────────────────────────────────┐
│  [Логотип IG]     [Поиск]     [Уведомления]  [Профиль]  │
├─────────────────────────────────────────────────────────┤
│  [Аватар] [Имя пользователя] [Подписчики] [Подписки]   │
│  [Кнопки: Подписаться, Сообщение, ...]                 │
│  [Биография пользователя]                              │
├─────────────────────────────────────────────────────────┤
│  [Посты пользователя - сетка]                          │
│  [Посты пользователя - сетка]                          │
└─────────────────────────────────────────────────────────┘

Старая обрезка (60% ширины):
┌─────────────────────────────────────────────┐
│  [Аватар] [Имя пользователя] [Подписчики]   │
│  [Кнопки: Подписаться, Сообщение]           │
│  [Биография пользователя]                   │
│  [Посты пользователя - сетка]               │
└─────────────────────────────────────────────┘

Новая обрезка (40% ширины):
┌─────────────────────────────┐
│  [Аватар] [Имя пользователя] │
│  [Кнопки: Подписаться]       │
│  [Биография пользователя]    │
│  [Посты пользователя]        │
└─────────────────────────────┘
```

## Преимущества новой обрезки

### ✅ Более фокусированный вид
- Убирается лишняя информация справа
- Основное внимание на аватаре и имени пользователя

### ✅ Лучше для мобильных устройств
- Меньший размер файла
- Быстрее загружается в Telegram

### ✅ Меньше отвлекающих элементов
- Убираются боковые панели Instagram
- Чище выглядит в уведомлениях

## Технические детали

### Размеры обрезки:
- **Слева**: убираем 20% (оставляем 80%)
- **Справа**: убираем 40% (оставляем 60%)
- **Итого ширина**: 40% от оригинального скриншота

### Координаты обрезки:
```python
# Для изображения шириной 1280px:
left_crop = int(1280 * 0.20) = 256px
right_crop = int(1280 * 0.40) = 512px

# Обрезка от 256px до 768px (512px ширины)
cropped_img = img.crop((256, 0, 768, final_height))
```

## Примеры использования

### В логах будет отображаться:
```
✂️ Image cropped (40% width, top 35% height): screenshots/ig_username_20250115_123456.png
```

### В Telegram уведомлениях:
- Пользователь получит более компактный скриншот
- Фокус на основной информации профиля
- Меньше лишних деталей интерфейса

## Совместимость

Изменение обратно совместимо:
- ✅ Все существующие скриншоты остаются без изменений
- ✅ Новые скриншоты будут обрезаны по новой логике
- ✅ Никаких изменений в базе данных не требуется

## Тестирование

Для проверки работы:
1. Запустите проверку любого аккаунта
2. Проверьте логи: должно появиться `✂️ Image cropped (40% width, top 35% height)`
3. Откройте скриншот и убедитесь, что обрезка корректная
4. Ширина должна быть примерно 40% от оригинального скриншота
